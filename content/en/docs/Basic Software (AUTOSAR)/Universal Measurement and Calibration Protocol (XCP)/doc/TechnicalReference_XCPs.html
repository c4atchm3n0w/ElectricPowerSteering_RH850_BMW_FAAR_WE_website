---
title: TechnicalReference_XCPs
linkTitle: TechnicalReference_XCPs
weight: 5
---

<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-1_1.png"/><br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/><b>MICROSAR XCP&#160;<br/></b>Technical Reference&#160;<br/>&#160;<br/>&#160;&#160;<br/>Version&#160;2.0.0&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
Authors&#160;<br/>
Andreas&#160;Herkommer&#160;<br/>
Status&#160;<br/>
Released&#160;<br/>
&#160;<br/>&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
&#160;<br/>
<hr/>
<a name=2></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-2_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-2_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Document&#160;Information&#160;</b><br/>
<b>History&#160;</b><br/>
<b>Author&#160;</b><br/>
<b>Date&#160;</b><br/>
<b>Version&#160;</b><br/>
<b>Remarks&#160;</b><br/>
Andreas&#160;Herkommer&#160;&#160;2017-02-13&#160;<br/>
1.00.00&#160;<br/>
Initial&#160;Version&#160;<br/>
Andreas&#160;Herkommer&#160;&#160;2017-11-14&#160;<br/>
2.00.00&#160;<br/>
Added&#160;new&#160;API&#160;Xcp_SetStimMode&#160;<br/>
<b>Reference&#160;Documents&#160;</b><br/>
<b>No.&#160;</b><br/>
<b>Source&#160;</b><br/>
<b>Title&#160;</b><br/>
<b>Version&#160;</b><br/>
[1]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_XCP.pdf&#160;<br/>
2.3.0&#160;<br/>
[2]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DET.pdf&#160;<br/>
3.4.1&#160;<br/>
[3]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_SWS_DEM.pdf&#160;<br/>
5.2.0&#160;<br/>
[4]&#160;&#160;&#160;AUTOSAR&#160;<br/>
AUTOSAR_BasicSoftwareModules.pdf&#160;<br/>
V1.0.0&#160;<br/>
[5]&#160;&#160;&#160;ASAM&#160;<br/>
ASAM_XCP_Part2-Protocol-Layer-Specification_V1-1-<br/>
V1.1&#160;<br/>
0.pdf&#160;<br/>
<b>Scope&#160;of&#160;the&#160;Document</b>&#160;<br/>
This&#160;document&#160;describes the&#160;features,&#160;APIs,&#160;and&#160;integration&#160;of&#160;the&#160;XCP&#160;Protocol Layer.&#160;<br/>This&#160;document&#160;does&#160;not&#160;cover&#160;the&#160;XCP&#160;Transport&#160;Layers&#160;for&#160;CAN,&#160;FlexRay&#160;and&#160;Ethernet,&#160;<br/>which&#160;are available&#160;at&#160;Vector Informatik.&#160;&#160;&#160;<br/>Further&#160;&#160;information&#160;&#160;about&#160;&#160;XCP&#160;&#160;on&#160;&#160;CAN,&#160;&#160;FlexRay&#160;&#160;and&#160;&#160;Ethernet&#160;Transport&#160;&#160;Layers&#160;&#160;can&#160;&#160;be&#160;<br/>found&#160;in&#160;their&#160;documentation.&#160;<br/>Please&#160;&#160;also&#160;&#160;refer&#160;&#160;to&#160;&#160;“The&#160;&#160;Universal&#160;&#160;Measurement&#160;&#160;and&#160;&#160;Calibration&#160;&#160;Protocol&#160;&#160;Family”&#160;<br/>specification&#160;by&#160;ASAM&#160;e.V.&#160;<br/>The&#160;XCP&#160;Protocol&#160;Layer&#160;is&#160;a&#160;hardware&#160;independent&#160;protocol&#160;that&#160;can&#160;be&#160;ported&#160;to&#160;almost&#160;<br/>any&#160;&#160;hardware.&#160;&#160;Due&#160;&#160;to&#160;&#160;there&#160;&#160;are&#160;&#160;numerous&#160;&#160;combinations&#160;&#160;of&#160;&#160;micro&#160;&#160;controllers,&#160;&#160;compilers&#160;<br/>and&#160;memory&#160;models&#160;it&#160;cannot&#160;be&#160;guaranteed&#160;that&#160;it&#160;will&#160;run&#160;properly&#160;on&#160;any&#160;of&#160;the&#160;above&#160;<br/>mentioned&#160;combinations.&#160;<br/>Please&#160;&#160;note&#160;&#160;that&#160;&#160;in&#160;&#160;this&#160;&#160;document&#160;&#160;the&#160;&#160;term&#160;&#160;Application&#160;&#160;is&#160;&#160;not&#160;&#160;used&#160;&#160;strictly&#160;&#160;for&#160;&#160;the&#160;&#160;user&#160;<br/>software&#160;but&#160;also&#160;for&#160;any&#160;higher&#160;software&#160;layer,&#160;like&#160;e.g.&#160;a&#160;Communication&#160;Control&#160;Layer.&#160;<br/>Therefore,&#160;Application&#160;refers to&#160;any&#160;of&#160;the&#160;software components&#160;using&#160;XCP.&#160;<br/>The&#160;API&#160;of&#160;the&#160;functions is described&#160;in&#160;a&#160;separate&#160;chapter at&#160;the&#160;end&#160;of&#160;this document.&#160;&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Info</b>&#160;<br/>The&#160;source&#160;code&#160;of&#160;the&#160;XCP&#160;Protocol&#160;Layer,&#160;configuration&#160;examples and&#160;<br/>
<b>&#160;&#160;</b>documentation&#160;are available on&#160;the&#160;Internet&#160;at<a href="http://www.vector-informatik.de/">&#160;www.vector-informatik.de&#160;</a>in a&#160;functional&#160;<br/>
restricted&#160;form.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
2&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=3></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-3_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-3_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>We&#160;have configured&#160;the&#160;programs&#160;in&#160;accordance&#160;with your&#160;specifications&#160;in the&#160;<br/>
<b>&#160;&#160;</b>questionnaire.&#160;Whereas&#160;the&#160;programs&#160;do&#160;support&#160;other&#160;configurations&#160;than&#160;the&#160;one&#160;<br/>
specified&#160;in your&#160;questionnaire,&#160;Vector´s&#160;release&#160;of&#160;the&#160;programs&#160;delivered to&#160;your&#160;<br/>company&#160;is&#160;expressly&#160;restricted&#160;to&#160;the&#160;configuration&#160;you&#160;have specified&#160;in&#160;the&#160;<br/>questionnaire.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
3&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=4></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-4_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Contents&#160;</b><br/>
<a href="TechnicalReference_XCPs.html#10"><b>1</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#10"><b>Component&#160;History&#160;....................................................................................................&#160;10</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#11"><b>2</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#11"><b>Introduction.................................................................................................................&#160;11</b>&#160;<br/>2.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#11">Architecture&#160;Overview&#160;......................................................................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13"><b>3</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13"><b>Functional&#160;Description&#160;...............................................................................................&#160;13</b>&#160;<br/>3.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Features&#160;..........................................................................................................&#160;13&#160;<br/>3.1.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Deviations&#160;........................................................................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">3.1.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Additions/&#160;Extensions&#160;.......................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">3.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Initialization&#160;......................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">3.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">States&#160;..............................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">3.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">Main Functions&#160;................................................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">3.5&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">Block&#160;Transfer&#160;Communication Model&#160;..............................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">3.6&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">Slave Device Identification&#160;...............................................................................&#160;17&#160;<br/>3.6.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">XCP&#160;Station&#160;Identifier&#160;.......................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">3.6.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">XCP&#160;Generic&#160;Identification&#160;...............................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">3.7&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#17">Seed &amp;&#160;Key&#160;......................................................................................................&#160;17&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">3.8&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">Checksum&#160;Calculation&#160;.....................................................................................&#160;18&#160;<br/>3.8.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">Custom&#160;CRC&#160;calculation&#160;..................................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">3.9&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">Memory&#160;Access by&#160;Application&#160;.........................................................................&#160;18&#160;<br/>3.9.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#18">Memory&#160;Read and&#160;Write&#160;Protection&#160;.................................................&#160;18&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#19">3.9.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#19">Special&#160;use&#160;case&#160;“Type&#160;Safe&#160;Copy”&#160;.................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#19">3.10&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#19">Event&#160;Codes&#160;....................................................................................................&#160;19&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">3.11&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">Service Request&#160;Messages&#160;.............................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">3.12&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">User&#160;Defined&#160;Command&#160;...................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">3.13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">Synchronous&#160;Data&#160;Transfer&#160;.............................................................................&#160;20&#160;<br/>3.13.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">Synchronous&#160;Data&#160;Acquisition&#160;(DAQ)&#160;...............................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#21">3.13.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#21">DAQ&#160;Timestamp&#160;...............................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#21">3.13.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#21">Power-Up Data&#160;Transfer&#160;..................................................................&#160;21&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">3.13.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">Data&#160;Stimulation (STIM)&#160;...................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">3.13.5&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">Bypassing&#160;........................................................................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">3.13.6&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#22">Data&#160;Acquisition&#160;Plug&#160;&amp;&#160;Play&#160;Mechanisms&#160;.......................................&#160;22&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">3.13.7&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">Event&#160;Channel&#160;Plug&#160;&amp;&#160;Play&#160;Mechanism&#160;...........................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">3.13.8&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">Send Queue&#160;.....................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">3.13.9&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">Data&#160;consistency&#160;..............................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">3.14&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">The&#160;Online&#160;Data&#160;Calibration&#160;Model&#160;..................................................................&#160;24&#160;<br/>3.14.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">Page Switching&#160;................................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">3.14.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">Page Switching&#160;Plug&#160;&amp;&#160;Play&#160;Mechanism&#160;..........................................&#160;24&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
4&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=5></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-5_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<a href="TechnicalReference_XCPs.html#24">3.14.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">Calibration&#160;Data&#160;Page&#160;Copying&#160;........................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">3.14.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#24">Freeze Mode Handling&#160;.....................................................................&#160;24&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#25">3.15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#25">Flash&#160;Programming&#160;..........................................................................................&#160;25&#160;<br/>3.15.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#25">Flash&#160;Programming by&#160;the&#160;ECU’s&#160;Application&#160;..................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#25">3.15.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#25">Flash&#160;Programming Plug&#160;&amp;&#160;Play&#160;Mechanism&#160;...................................&#160;25&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#26">3.15.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#26">Flash&#160;Programming with a&#160;Flash&#160;Kernel&#160;...........................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#26">3.16&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#26">Multi&#160;Core&#160;Support&#160;...........................................................................................&#160;26&#160;<br/>3.16.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#26">Type&#160;Safe&#160;Copy&#160;...............................................................................&#160;26&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#27">3.16.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#27">DAQ/STIM&#160;with Multi&#160;Core&#160;...............................................................&#160;27&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">3.17&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">En-&#160;/&#160;Disabling&#160;the&#160;XCP&#160;module&#160;.......................................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">3.18&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">XCP&#160;measurement&#160;during the&#160;post&#160;event&#160;time&#160;.................................................&#160;28&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#29">3.19&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#29">Error&#160;Handling&#160;..................................................................................................&#160;29&#160;<br/>3.19.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#29">Development&#160;Error&#160;Reporting&#160;...........................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">3.19.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">Production Code&#160;Error&#160;Reporting&#160;.....................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31"><b>4</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31"><b>Integration&#160;...................................................................................................................&#160;31</b>&#160;<br/>4.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Scope of&#160;Delivery&#160;.............................................................................................&#160;31&#160;<br/>4.1.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Static Files&#160;.......................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">4.1.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Templates&#160;–&#160;user&#160;modifiable&#160;.............................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">4.1.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Dynamic&#160;Files&#160;..................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">4.1.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Generated&#160;a2l&#160;files&#160;...........................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">4.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">Critical&#160;Sections&#160;...............................................................................................&#160;32&#160;<br/>4.2.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">XCP_EXCLUSIVE_AREA_0&#160;............................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">4.2.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">XCP_EXCLUSIVE_AREA_1&#160;............................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">4.2.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#32">XCP_EXCLUSIVE_AREA_2&#160;............................................................&#160;32&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#33">4.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#33">Memory&#160;Mapping&#160;.............................................................................................&#160;33&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34"><b>5</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34"><b>API&#160;Description&#160;...........................................................................................................&#160;34</b>&#160;<br/>5.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34">Type&#160;Definitions&#160;...............................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">5.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Services provided by&#160;XCP&#160;...............................................................................&#160;35&#160;<br/>5.2.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Xcp_InitMemory&#160;...............................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">5.2.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Xcp_Init&#160;............................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">5.2.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">Xcp_Event&#160;.......................................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">5.2.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">Xcp_StimEventStatus&#160;......................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">5.2.5&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">Xcp_MainFunction&#160;...........................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">5.2.6&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">Xcp_SendEvent&#160;...............................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">5.2.7&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">Xcp_PutChar....................................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">5.2.8&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Xcp_Print&#160;.........................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">5.2.9&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Xcp_Disconnect&#160;...............................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">5.2.10&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Xcp_SendCrm&#160;..................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">5.2.11&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Xcp_GetVersionInfo&#160;.........................................................................&#160;40&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
5&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=6></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-6_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<a href="TechnicalReference_XCPs.html#41">5.2.12&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#41">Xcp_ModifyProtectionStatus&#160;............................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">5.2.13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">Xcp_GetSessionStatus&#160;....................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">5.2.14&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">Xcp_GetXcpDataPointer&#160;..................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">5.2.15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Xcp_SetStimMode&#160;...........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">5.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Services provided by&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;and&#160;called&#160;by&#160;the&#160;XCP&#160;<br/>Transport&#160;Layer&#160;................................................................................................&#160;43&#160;<br/>5.3.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Xcp_TlRxIndication&#160;..........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">5.3.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Xcp_TlTxConfirmation&#160;......................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">5.3.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Xcp_SetActiveTl&#160;...............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#45">5.3.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#45">Xcp_GetActiveTl&#160;..............................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">5.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">XCP&#160;Transport&#160;Layer&#160;Services called&#160;by&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;....................&#160;46&#160;<br/>5.4.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">&lt;Bus&gt;Xcp_Send&#160;..............................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">5.4.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">&lt;Bus&gt;Xcp_SendFlush&#160;.....................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">5.4.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">&lt;Bus&gt;Xcp_TlService&#160;........................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#48">5.5&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#48">Application Services called&#160;by&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;....................................&#160;48&#160;<br/></a><a href="TechnicalReference_XCPs.html#49">5.5.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#49">XcpAppl_GetTimestamp&#160;..................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#49">5.5.2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#49">XcpAppl_GetPointer.........................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#50">5.5.3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#50">XcpAppl_GetIdData&#160;.........................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">5.5.4&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">XcpAppl_GetSeed&#160;...........................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">5.5.5&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">XcpAppl_Unlock&#160;...............................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">5.5.6&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">XcpAppl_CalibrationWrite&#160;................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#53">5.5.7&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#53">XcpAppl_MeasurementRead&#160;...........................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#53">5.5.8&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#53">XcpAppl_CheckReadAccess&#160;............................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">5.5.9&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">XcpAppl_CheckProgramAccess.......................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">5.5.10&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">XcpAppl_UserService&#160;......................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">5.5.11&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">XcpAppl_OpenCmdIf&#160;.......................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">5.5.12&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">XcpAppl_SendStall&#160;..........................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">5.5.13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">XcpAppl_DisableNormalOperation&#160;...................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">5.5.14&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">XcpAppl_StartBootLoader&#160;................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">5.5.15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">XcpAppl_Reset&#160;................................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">5.5.16&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">XcpAppl_ProgramStart&#160;....................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">5.5.17&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">XcpAppl_FlashClear&#160;........................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">5.5.18&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">XcpAppl_FlashProgram&#160;...................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">5.5.19&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">XcpAppl_DaqResume&#160;......................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#60">5.5.20&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#60">XcpAppl_DaqResumeStore&#160;.............................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">5.5.21&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">XcpAppl_DaqResumeClear&#160;.............................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">5.5.22&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">XcpAppl_CalResumeStore...............................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">5.5.23&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">XcpAppl_GetCalPage&#160;......................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">5.5.24&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">XcpAppl_SetCalPage&#160;.......................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#63">5.5.25&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#63">XcpAppl_CopyCalPage&#160;....................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">5.5.26&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">XcpAppl_SetFreezeMode&#160;................................................................&#160;64&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
6&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=7></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-7_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<a href="TechnicalReference_XCPs.html#65">5.5.27&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#65">XcpAppl_GetFreezeMode&#160;................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#65">5.5.28&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#65">XcpAppl_CalculateChecksum&#160;..........................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">5.5.29&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">XcpAppl_ConStateNotification&#160;.........................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">5.5.30&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">XcpAppl_MemCpy&#160;...........................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">5.6&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">Services used by&#160;XCP&#160;.....................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#68"><b>6</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#68"><b>Configuration&#160;..............................................................................................................&#160;68</b>&#160;<br/>6.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#68">Configuration Variants&#160;......................................................................................&#160;68&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#69"><b>7</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#69"><b>Glossary&#160;and&#160;Abbreviations&#160;......................................................................................&#160;69</b>&#160;<br/>7.1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#69">Abbreviations&#160;...................................................................................................&#160;69&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#71"><b>8</b>&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#71"><b>Contact&#160;........................................................................................................................&#160;71</b>&#160;</a><br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
7&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=8></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-8_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Illustrations&#160;</b><br/>
<a href="TechnicalReference_XCPs.html#11">Figure&#160;2-1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#11">AUTOSAR&#160;4.1&#160;Architecture&#160;Overview&#160;.......................................................&#160;11&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#12">Figure&#160;2-2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#12">Interfaces&#160;to adjacent&#160;modules of&#160;the&#160;XCP&#160;...............................................&#160;12&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">Figure&#160;3-1&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#16">Connection&#160;State Machine&#160;........................................................................&#160;16&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">Figure&#160;3-2&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#23">Data&#160;consistency&#160;......................................................................................&#160;23&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">Figure&#160;3-3&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#28">Application of&#160;Xcp_Event&#160;function&#160;on&#160;Multi&#160;Core&#160;systems&#160;.........................&#160;28&#160;</a><br/>
<b>&#160;</b><br/>
<b>Tables&#160;<br/></b><a href="TechnicalReference_XCPs.html#10">Table 1-1&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#10">Component&#160;history....................................................................................&#160;10&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Table 3-1&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;.....................................&#160;13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Table 3-2&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#13">Deviations from&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;.............................&#160;13&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Table 3-3&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Deviations from&#160;ASAM&#160;standard conform&#160;features&#160;....................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Table 3-4&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Features&#160;provided beyond the&#160;AUTOSAR&#160;standard&#160;..................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">Table 3-5&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#15">States&#160;.......................................................................................................&#160;15&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">Table 3-6&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#20">Event&#160;codes&#160;..............................................................................................&#160;20&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#29">Table 3-7&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#29">Service IDs&#160;...............................................................................................&#160;29&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">Table 3-8&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">Errors&#160;reported&#160;to DET&#160;.............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">Table 3-9&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#30">Errors&#160;reported&#160;to DEM&#160;.............................................................................&#160;30&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Table 4-1&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Static&#160;files&#160;.................................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Table 4-2&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Templates&#160;.................................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Table 4-3&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#31">Generated&#160;files&#160;.........................................................................................&#160;31&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34">Table 5-1&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34">Type&#160;definitions&#160;.........................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34">Table 5-2&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#34">Xcp_ChannelStruct&#160;...................................................................................&#160;34&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Table 5-3&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Xcp_InitMemory&#160;........................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">4&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#35">Xcp_Init&#160;....................................................................................................&#160;35&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">Table 5-5&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#36">Xcp_Event&#160;................................................................................................&#160;36&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">Table 5-6&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">Xcp_StimEventStatus&#160;...............................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">Table 5-7&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#37">Xcp_MainFunction&#160;....................................................................................&#160;37&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">Table 5-8&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#38">Xcp_SendEvent&#160;........................................................................................&#160;38&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Table 5-9&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Xcp_PutChar&#160;............................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Table 5-10&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#39">Xcp_Print&#160;..................................................................................................&#160;39&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Table 5-11&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Xcp_Disconnect&#160;........................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Table 5-12&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#40">Xcp_SendCrm&#160;..........................................................................................&#160;40&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#41">Table 5-13&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#41">Xcp_GetVersionInfo&#160;..................................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#41">Table 5-14&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#41">Xcp_ModifyProtectionStatus&#160;.....................................................................&#160;41&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">Table 5-15&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#42">Xcp_GetSessionStatus&#160;.............................................................................&#160;42&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Table 5-16&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Xcp_GetXcpDataPointer&#160;...........................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Table 5-17&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#43">Xcp_SetStimMode&#160;....................................................................................&#160;43&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Table 5-18&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Xcp_TlRxIndication&#160;...................................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Table 5-19&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#44">Xcp_TlTxConfirmation&#160;..............................................................................&#160;44&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#45">Table 5-20&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#45">Xcp_SetActiveTl&#160;.......................................................................................&#160;45&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">Table 5-21&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">Xcp_GetActiveTl&#160;.......................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">Table 5-22&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#46">&lt;Bus&gt;Xcp_Send&#160;.......................................................................................&#160;46&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">Table 5-23&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#47">&lt;Bus&gt;Xcp_SendFlush&#160;..............................................................................&#160;47&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#48">Table 5-24&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#48">&lt;Bus&gt;Xcp_TlService&#160;................................................................................&#160;48&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#49">Table 5-25&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#49">XcpAppl_GetTimestamp&#160;...........................................................................&#160;49&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#50">Table 5-26&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#50">XcpAppl_GetPointer&#160;.................................................................................&#160;50&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">Table 5-27&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">XcpAppl_GetIdData&#160;..................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">Table 5-28&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#51">XcpAppl_GetSeed&#160;....................................................................................&#160;51&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">Table 5-29&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">XcpAppl_Unlock&#160;.......................................................................................&#160;52&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">Table 5-30&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#52">XcpAppl_CalibrationWrite&#160;.........................................................................&#160;52&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
8&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=9></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-9_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<a href="TechnicalReference_XCPs.html#53">Table 5-31&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#53">XcpAppl_MeasurementRead&#160;....................................................................&#160;53&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">Table 5-32&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">XcpAppl_CheckReadAccess&#160;....................................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">Table 5-33&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#54">XcpAppl_CheckProgramAccess&#160;...............................................................&#160;54&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">Table 5-34&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">XcpAppl_UserService&#160;...............................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">Table 5-35&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#55">XcpAppl_OpenCmdIf&#160;................................................................................&#160;55&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">Table 5-36&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">XcpAppl_SendStall&#160;...................................................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">Table 5-37&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#56">XcpAppl_DisableNormalOperation&#160;...........................................................&#160;56&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">Table 5-38&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#57">XcpAppl_StartBootLoader&#160;........................................................................&#160;57&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">Table 5-39&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">XcpAppl_Reset&#160;.........................................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">Table 5-40&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#58">XcpAppl_ProgramStart&#160;.............................................................................&#160;58&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">Table 5-41&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">XcpAppl_FlashClear&#160;.................................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">Table 5-42&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#59">XcpAppl_FlashProgram&#160;............................................................................&#160;59&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#60">Table 5-43&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#60">XcpAppl_DaqResume&#160;..............................................................................&#160;60&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">Table 5-44&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">XcpAppl_DaqResumeStore&#160;......................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">Table 5-45&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#61">XcpAppl_DaqResumeClear&#160;......................................................................&#160;61&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">Table 5-46&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">XcpAppl_CalResumeStore&#160;.......................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">Table 5-47&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#62">XcpAppl_GetCalPage&#160;...............................................................................&#160;62&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#63">Table 5-48&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#63">XcpAppl_SetCalPage&#160;...............................................................................&#160;63&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">Table 5-49&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">XcpAppl_CopyCalPage&#160;............................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">Table 5-50&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#64">XcpAppl_SetFreezeMode&#160;.........................................................................&#160;64&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#65">Table 5-51&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#65">XcpAppl_GetFreezeMode.........................................................................&#160;65&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">Table 5-52&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">XcpAppl_CalculateChecksum&#160;...................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">Table 5-53&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#66">XcpAppl_ConStateNotification&#160;..................................................................&#160;66&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">Table 5-54&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">XcpAppl_MemCpy&#160;....................................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">Table 5-55&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#67">Services used by&#160;the&#160;XCP&#160;........................................................................&#160;67&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#70">Table 7-1&#160;&#160;</a><br/>
<a href="TechnicalReference_XCPs.html#70">Abbreviations&#160;............................................................................................&#160;70&#160;</a><br/>
&#160;<br/>&#160;<br/>&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
9&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=10></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-10_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>1&#160;&#160;Component&#160;History&#160;</b><br/>
The&#160;&#160;component&#160;&#160;history&#160;&#160;gives&#160;&#160;an&#160;&#160;overview&#160;&#160;over&#160;&#160;the&#160;&#160;important&#160;&#160;milestones&#160;&#160;that&#160;&#160;are&#160;<br/>supported&#160;in&#160;the&#160;different&#160;versions of&#160;the&#160;component.&#160;&#160;<br/>
<b>Component&#160;Version&#160;&#160;New&#160;Features&#160;<br/></b>1.00.xx&#160;<br/>
Initial&#160;Version of&#160;re-factored&#160;AR4&#160;Protocol&#160;Layer.&#160;<br/>
2.00.xx&#160;<br/>
Series&#160;production&#160;of&#160;MultiCore&#160;feature.&#160;<br/>
3.00.xx&#160;<br/>
Bugfixes and Continuous&#160;STIM&#160;feature.&#160;<br/>
Table&#160;1-1&#160;&#160;&#160;Component&#160;history&#160;<br/>&#160;<br/>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
10&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=11></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-11_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-11_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>2&#160;&#160;Introduction&#160;</b><br/>
This&#160;&#160;document&#160;&#160;describes&#160;&#160;the&#160;&#160;functionality,&#160;API&#160;&#160;and&#160;&#160;configuration&#160;&#160;of&#160;&#160;the&#160;AUTOSAR&#160;&#160;BSW&#160;<br/>module&#160;XCP&#160;as specified&#160;in&#160;[1].&#160;&#160;<br/>
&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;R<a href="TechnicalReference_XCPs.html#11">elease*:</a></b><b>&#160;</b><br/>
4&#160;<br/>
<b>Supported&#160;Configuration&#160;Variants:&#160;</b><br/>
pre-compile&#160;<br/>
<b>Vendor&#160;ID:&#160;</b><br/>
XCP_VENDOR_ID&#160;<br/>
30&#160;decimal&#160;<br/>(=&#160;Vector-Informatik,&#160;<br/>according&#160;to&#160;HIS)&#160;<br/>
<b>Module&#160;ID:&#160;</b><br/>
XCP_MODULE_ID &#160;&#160;<br/>
212&#160;decimal&#160;<br/>(according&#160;to ref.&#160;[4])&#160;<br/>
*&#160;For&#160;the detailed functional&#160;specification please also refer to the corresponding&#160;AUTOSAR&#160;SWS.&#160;<br/>&#160;<br/>&#160;<br/>
<b>2.1&#160;</b><br/>
<b>Architecture&#160;Overview&#160;</b><br/>
The&#160;following&#160;figure shows&#160;where the&#160;XCP&#160;is&#160;located&#160;in&#160;the&#160;AUTOSAR architecture.&#160;<br/>
&#160;<br/>
Figure&#160;2-1&#160;&#160;AUTOSAR&#160;4.1&#160;Architecture&#160;Overview&#160;&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
11&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=12></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-12_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
&#160;<br/>
The&#160;following&#160;figure&#160;shows&#160;the&#160;interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;&#160;XCP.&#160;The&#160;interfaces&#160;<br/>of&#160;the&#160;XCP&#160;Protocol Layer and&#160;the&#160;application&#160;call-back header are&#160;described&#160;in&#160;chapte<a href="TechnicalReference_XCPs.html#34">r&#160;5.&#160;</a>&#160;<br/>
<b>&#160;class&#160;Module&#160;Structure&#160;Adj&#160;acency</b><br/>
Must&#160;be&#160;implemented&#160;<br/>
<b>Application</b><br/>
by&#160;the&#160;user<br/>
<b>XcpAppl</b><br/>
<b>XCP</b><br/>
<b>DET</b><br/>
<b>XcpOnCan</b><br/>
<b>XcpOnFr</b><br/>
<b>XcpOnTcpIp</b><br/>
<b>CanIf</b><br/>
<b>FrIf</b><br/>
<b>SoAd</b><br/>
&#160;<br/>
Figure&#160;2-2&#160;&#160;Interfaces&#160;to&#160;adjacent&#160;modules&#160;of&#160;the&#160;XCP&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
12&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=13></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-13_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>3&#160;&#160;Functional&#160;Description&#160;</b><br/>
<b>3.1&#160;</b><br/>
<b>Features&#160;</b><br/>
The&#160;&#160;Universal&#160;&#160;Measurement&#160;&#160;and&#160;&#160;Calibration&#160;&#160;Protocol&#160;&#160;(XCP)&#160;&#160;is&#160;&#160;standardized&#160;&#160;by&#160;&#160;the&#160;<br/>European&#160;ASAM&#160;&#160;working&#160;&#160;committee&#160;&#160;for&#160;&#160;standardization&#160;&#160;of&#160;&#160;interfaces&#160;&#160;used&#160;&#160;in&#160;&#160;calibration&#160;<br/>and&#160;measurement&#160;data&#160;acquisition.&#160;XCP&#160;is&#160;a&#160;higher&#160;level&#160;protocol&#160;used&#160;for&#160;communication&#160;<br/>between&#160;&#160;a&#160;&#160;measurement&#160;&#160;and&#160;&#160;calibration&#160;&#160;system&#160;&#160;(MCS,&#160;&#160;i.e.&#160;&#160;CANape)&#160;&#160;and&#160;&#160;an&#160;&#160;electronic&#160;<br/>control unit (ECU).&#160;The&#160;implementation&#160;supports the&#160;ASAM&#160;XCP&#160;1.1&#160;Specification.&#160;<br/>The&#160;AUTOSAR&#160;&#160;standard&#160;&#160;functionality&#160;&#160;is&#160;&#160;specified&#160;&#160;in&#160;&#160;[1],&#160;&#160;the&#160;&#160;corresponding&#160;&#160;features&#160;&#160;are&#160;<br/>listed&#160;in&#160;the&#160;tables&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_XCPs.html#13">Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard conform&#160;features&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_XCPs.html#13">Table&#160;3-2&#160;&#160;&#160;Deviations from&#160;AUTOSAR standard&#160;conform&#160;features&#160;</a><br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_XCPs.html#15">Table&#160;3-3&#160;&#160;&#160;Deviations from&#160;ASAM&#160;standard conform&#160;features&#160;</a><br/>
Vector&#160;Informatik&#160;provides&#160;further&#160;XCP&#160;functionality&#160;beyond&#160;the&#160;AUTOSAR&#160;standard.&#160;The&#160;<br/>corresponding&#160;features&#160;are&#160;listed&#160;in&#160;the&#160;table&#160;<br/>
<b>&gt;&#160;&#160;</b><a href="TechnicalReference_XCPs.html#15">Table&#160;3-4&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;</a><br/>
&#160;<br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[1]&#160;are&#160;supported:&#160;<br/>
<b>Supported&#160;AUTOSAR&#160;Standard&#160;Conform&#160;Features&#160;<br/></b>ASAM&#160;XCP&#160;Version 1.1&#160;<br/>
Table&#160;3-1&#160;&#160;&#160;Supported&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.1&#160;</b><br/>
<b>Deviations&#160;</b><br/>
The&#160;following&#160;features&#160;specified&#160;in&#160;[1]&#160;are&#160;not&#160;or only&#160;partly&#160;supported:&#160;<br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ASR&#160;<br/>Version&#160;</b><br/>
Functional&#160;&#160;The&#160;following&#160;features&#160;are not&#160;supported:&#160;<br/>
4.2.2&#160;<br/>
•&#160;&#160;The&#160;command&#160;GET_SLAVE_ID&#160;<br/>•&#160;&#160;A&#160;CDD&#160;as&#160;transport&#160;layer&#160;<br/>
API&#160;<br/>
The&#160;following&#160;APIs&#160;are not&#160;provided by&#160;XCP:&#160;<br/>
4.2.2&#160;<br/>
•&#160;&#160;Xcp_SetTransmissionMode&#160;<br/>
API&#160;<br/>
The&#160;API&#160;Xcp_&lt;Module&gt;TriggerTransmit&#160;is&#160;only&#160;supported&#160;for&#160;transport&#160;<br/>
4.2.2&#160;<br/>
layer&#160;FrIf.&#160;<br/>
Table&#160;3-2&#160;&#160;&#160;Deviations&#160;from&#160;AUTOSAR&#160;standard&#160;conform&#160;features&#160;<br/>
&#160;<br/>
<b>Category&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>ASAM&#160;<br/>Version&#160;</b><br/>
Functional&#160;&#160;1.6.4.1.2.4&#160;Get&#160;general&#160;information on&#160;DAQ&#160;processor:&#160;<br/>
1.1&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
13&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=14></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-14_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
•&#160;&#160;Bitwise stimulation&#160;is&#160;not&#160;supported&#160;<br/>
Functional&#160;&#160;1.6.4.2 Static DAQ&#160;list&#160;configuration&#160;(stat):&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;Static DAQ&#160;lists&#160;are&#160;not&#160;supported;&#160;only&#160;dynamic&#160;DAQ&#160;lists&#160;are&#160;<br/>
supported&#160;<br/>
Functional&#160;&#160;1.7.2.3&#160;Interleaved&#160;Communication Model:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;Multiple request&#160;messages&#160;are&#160;not&#160;allowed&#160;to be&#160;transmitted&#160;by&#160;the&#160;<br/>
XCP&#160;master&#160;before&#160;receiving&#160;the&#160;corresponding&#160;response&#160;<br/>message&#160;<br/>
Functional&#160;&#160;1.6.5.2.4&#160;Set&#160;Data&#160;Format&#160;before&#160;Programming:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;Only&#160;the&#160;default&#160;programming&#160;format&#160;is&#160;supported,&#160;therefore&#160;the&#160;<br/>
command&#160;PROGRAM_FORMAT&#160;is&#160;not&#160;supported&#160;<br/>
Functional&#160;&#160;1.6.5.2.2&#160;Get&#160;specific&#160;information&#160;for&#160;a&#160;sector:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;command&#160;GET_SECTOR_INFO&#160;does not&#160;return&#160;a Program&#160;<br/>
Sequence&#160;Number&#160;<br/>
Functional&#160;&#160;1.6.5.2.7&#160;Program&#160;Verify:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;command&#160;PROGRAM_VERIFY&#160;is&#160;not&#160;supported&#160;<br/>
Functional&#160;&#160;Daq&#160;configuration:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;Number&#160;of&#160;DAQ&#160;lists&#160;is&#160;limited&#160;to&#160;0xFF&#160;<br/>•&#160;&#160;Maximum&#160;DTO&#160;length&#160;is&#160;limited&#160;to&#160;0xFF&#160;<br/>•&#160;&#160;DAQ&#160;does&#160;not&#160;support&#160;address extension&#160;<br/>•&#160;&#160;DAQ-list&#160;and&#160;event&#160;channel&#160;prioritization is not&#160;supported&#160;<br/>•&#160;&#160;DAQ&#160;bit&#160;offset&#160;not&#160;supported&#160;<br/>•&#160;&#160;The&#160;resume bits&#160;in DAQ&#160;lists&#160;are&#160;not&#160;set&#160;(no&#160;indication in&#160;response&#160;<br/>
of&#160;command&#160;GET_DAQ_LIST_MODE)&#160;<br/>
Functional&#160;&#160;5.1.10&#160;&#160;ODT&#160;Optimization:&#160;<br/>
1.2&#160;<br/>
•&#160;&#160;The&#160;ODT&#160;Optimization is not&#160;supported&#160;<br/>
Functional&#160;&#160;1.2&#160;Table of&#160;Event&#160;Codes:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;XCP&#160;does not&#160;send any&#160;event&#160;packet&#160;natively.&#160;If&#160;required,&#160;the&#160;<br/>
implementation&#160;has&#160;to&#160;be added&#160;to application&#160;<br/>
Functional&#160;&#160;Overload&#160;indication by&#160;an&#160;event&#160;is&#160;not&#160;supported&#160;<br/>
1.1&#160;<br/>
Functional&#160;&#160;1.3&#160;Table of&#160;Service Request&#160;Codes&#160;(SERV):&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;Service Request&#160;SERV_RESET&#160;is&#160;not&#160;supported&#160;<br/>
Functional&#160;&#160;1.6.1.2.9&#160;Build Checksum&#160;over&#160;memory&#160;range:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;checksum&#160;type&#160;XCP_CRC_16&#160;or&#160;XCP_CRC_32&#160;is&#160;only&#160;supported&#160;<br/>
if&#160;the&#160;checksum&#160;calculation is&#160;forwarded to&#160;a&#160;AUTOSAR&#160;CRC&#160;<br/>module&#160;<br/>
•&#160;&#160;Maximum&#160;checksum&#160;block&#160;size is 0xFFFF&#160;<br/>
Functional&#160;&#160;1.6.3&#160;Page Switching&#160;Commands&#160;(PAG):&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;command&#160;GET_PAGE_INFO&#160;is&#160;not&#160;supported&#160;<br/>•&#160;&#160;The&#160;command&#160;GET_SEGMENT_INFO&#160;is&#160;not&#160;supported&#160;<br/>•&#160;&#160;Only&#160;one segment&#160;and&#160;two pages are supported&#160;<br/>
Functional&#160;&#160;Seed and Key:&#160;<br/>
1.1&#160;<br/>
•&#160;&#160;The&#160;seed size and&#160;key&#160;size must&#160;be&#160;equal&#160;or&#160;less&#160;MAX_CTO-2&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
14&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=15></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-15_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Functional&#160;&#160;Consistency&#160;only&#160;supported&#160;on&#160;ODT&#160;level.&#160;<br/>
1.1&#160;<br/>
Functional&#160;&#160;No other&#160;identification&#160;field type&#160;supported&#160;than&#160;“absolute&#160;ODT&#160;number”.&#160;<br/>
1.1&#160;<br/>
Table&#160;3-3&#160;&#160;&#160;Deviations&#160;from&#160;ASAM&#160;standard&#160;conform&#160;features&#160;<br/>
<b>3.1.2&#160;</b><br/>
<b>Additions/&#160;Extensions&#160;</b><br/>
The&#160;following&#160;features&#160;are provided&#160;beyond&#160;the&#160;AUTOSAR standard:&#160;<br/>
<b>Features&#160;Provided&#160;Beyond&#160;The&#160;AUTOSAR&#160;Standard&#160;<br/></b>Support&#160;of&#160;CAN-FD&#160;<br/>Support&#160;transmission&#160;and reception&#160;of&#160;DTO&#160;on&#160;multiple cores&#160;simultaneously.&#160;<br/>
Table&#160;3-4&#160;&#160;&#160;Features&#160;provided&#160;beyond&#160;the&#160;AUTOSAR&#160;standard&#160;<br/>
<b>3.2&#160;</b><br/>
<b>Initialization&#160;</b><br/>
The&#160;XCP&#160;gets&#160;initialized&#160;by&#160;call&#160;of&#160;the&#160;following&#160;services:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#35">5.2.1&#160;Xcp_InitMemory&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#35">5.2.2&#160;Xcp_Init&#160;</a><br/>
Xcp_InitMemory&#160;has to&#160;be&#160;called&#160;if&#160;memory&#160;is not&#160;initialized&#160;by&#160;start-up&#160;code.&#160;<br/>The&#160;EcuM&#160;takes&#160;care&#160;of&#160;initialization,&#160;if&#160;no&#160;EcuM&#160;is&#160;used&#160;these&#160;functions&#160;have&#160;to&#160;be&#160;called&#160;<br/>by&#160;application&#160;in&#160;correct&#160;order.&#160;<br/>
<b>3.3&#160;</b><br/>
<b>States&#160;</b><br/>
The&#160;&#160;XCP’s&#160;&#160;connection&#160;&#160;state&#160;&#160;machine&#160;&#160;is&#160;&#160;shown&#160;&#160;in&#160;&#160;<a href="TechnicalReference_XCPs.html#16">Figure&#160;&#160;3-1,&#160;&#160;</a>comprises&#160;&#160;the&#160;&#160;following&#160;<br/>states:&#160;&#160;<br/>
<b>State&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
XCP_CON_STATE_DISCONNECTED&#160;In&#160;this&#160;state&#160;neither&#160;CTO&#160;nor&#160;DTO&#160;messages&#160;can&#160;be&#160;received&#160;or&#160;<br/>
transmitted,&#160;except&#160;of&#160;the Connect&#160;CTO.&#160;<br/>
XCP_CON_STATE_CONNECTED&#160;<br/>
In&#160;this&#160;state&#160;communication&#160;is&#160;fully&#160;supported.&#160;<br/>
&#160;<br/>
XCP_CON_STATE_RESUME&#160;<br/>
In&#160;this&#160;state&#160;CTO&#160;messages&#160;(except&#160;of&#160;Connection CTO)&#160;are&#160;<br/>
&#160;<br/>
rejected,&#160;whereas&#160;DTO&#160;messages&#160;can&#160;be&#160;received&#160;and&#160;<br/>transmitted.&#160;<br/>
Table&#160;3-5&#160;&#160;&#160;States&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
15&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=16></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-16_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>&#160;stm&#160;Connection&#160;State&#160;Machine</b><br/>
Initial<br/>
Xcp_Init<br/>
Resume&#160;Mode<br/>
[OFF]<br/>
[ON]<br/>
<b>DISCONNECTED</b><br/>
Xcp_CmdStd_Connect<br/>
<b>CONNECTED</b><br/>
<b>RESUME</b><br/>
Xcp_CmdStd_Connect<br/>
Xcp_Disconnect<br/>
&#160;<br/>
Figure&#160;3-1&#160;&#160;Connection&#160;State&#160;Machine&#160;<br/>
The&#160;&#160;states&#160;&#160;can&#160;&#160;be&#160;&#160;changed&#160;&#160;by&#160;&#160;the&#160;&#160;XCP&#160;&#160;master&#160;&#160;by&#160;&#160;sending&#160;&#160;the&#160;&#160;CTOs&#160;&#160;Connect&#160;&#160;and&#160;<br/>Disconnect.&#160;Additionally,&#160;the&#160;connection&#160;can&#160;be&#160;broken&#160;by&#160;the&#160;service:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#39">5.2.9&#160;Xcp_Disconnect&#160;</a><br/>
<b>3.4&#160;</b><br/>
<b>Main Functions&#160;</b><br/>
The&#160;Xcp&#160;provides a&#160;MainFunction:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#37">5.2.5&#160;Xcp_MainFunction&#160;</a><br/>
It&#160;must&#160;be&#160;called&#160;cyclically&#160;and&#160;performs the&#160;following&#160;tasks:&#160;<br/>
<b>&gt;&#160;&#160;</b>Checksum&#160;calculation&#160;which&#160;is done&#160;asynchronously&#160;in&#160;configurable&#160;chunks&#160;to&#160;prevent&#160;<br/>
extensive&#160;runtime&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume&#160;Mode&#160;Handling&#160;<br/>
The&#160;&#160;Xcp&#160;&#160;MainFunction&#160;&#160;is&#160;&#160;normally&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;SchM.&#160;&#160;If&#160;&#160;you&#160;&#160;use&#160;&#160;a&#160;&#160;3rd&#160;&#160;party&#160;&#160;SchM&#160;&#160;you&#160;<br/>must&#160;configure it&#160;accordingly&#160;such&#160;that&#160;the&#160;function&#160;is called&#160;cyclically.&#160;<br/>
<b>3.5&#160;</b><br/>
<b>Block&#160;Transfer&#160;Communication Model&#160;</b><br/>
In&#160;&#160;the&#160;&#160;standard&#160;&#160;communication&#160;&#160;model,&#160;&#160;each&#160;&#160;request&#160;&#160;packet&#160;&#160;is&#160;&#160;responded&#160;&#160;by&#160;&#160;a&#160;&#160;single&#160;<br/>response&#160;packet&#160;or&#160;an&#160;error&#160;packet.&#160;To&#160;speed&#160;up&#160;&#160;memory&#160;uploads,&#160;downloads&#160;and&#160;flash&#160;<br/>programming&#160;the&#160;XCP&#160;commands&#160;UPLOAD,&#160;DOWNLOAD&#160;and&#160;PROGRAM&#160;support&#160;a&#160;block&#160;transfer&#160;<br/>mode&#160;similar to&#160;ISO/DIS&#160;15765-2.&#160;<br/>In&#160;&#160;the&#160;&#160;Master&#160;&#160;Block&#160;&#160;Transfer&#160;&#160;Mode&#160;&#160;can&#160;&#160;the&#160;&#160;master&#160;&#160;transmit&#160;&#160;subsequent&#160;&#160;(up&#160;&#160;to&#160;&#160;the&#160;<br/>maximum&#160;block&#160;size&#160;MAX_BS)&#160;request&#160;packets&#160;to&#160;the&#160;slave&#160;without&#160;getting&#160;any&#160;response&#160;<br/>in&#160;between.&#160;The&#160;slave&#160;responds after transmission&#160;of&#160;the&#160;last&#160;request&#160;packet&#160;of&#160;the&#160;block.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
16&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=17></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-17_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
In&#160;Slave&#160;Block&#160;Transfer&#160;Mode&#160;the&#160;slave&#160;can&#160;respond&#160;subsequent&#160;(there&#160;is&#160;no&#160;limitation)&#160;to&#160;<br/>a&#160;request&#160;without&#160;additional requests&#160;in&#160;between.&#160;<br/>The&#160;Block&#160;Transfer&#160;Mode&#160;is&#160;&#160;limited&#160;to&#160;a&#160;block&#160;size&#160;of&#160;255&#160;Bytes.&#160;On&#160;bus&#160;systems&#160;with&#160;a&#160;<br/>large&#160;&#160;max&#160;&#160;CTO&#160;&#160;(e.g.&#160;&#160;254&#160;&#160;Bytes)&#160;&#160;this&#160;&#160;Mode&#160;&#160;might&#160;&#160;be&#160;&#160;counterproductive&#160;&#160;and&#160;&#160;should&#160;&#160;stay&#160;<br/>disabled.&#160;<br/>
<b>3.6&#160;</b><br/>
<b>Slave&#160;Device&#160;Identification&#160;</b><br/>
<b>3.6.1&#160;</b><br/>
<b>XCP&#160;Station&#160;Identifier&#160;</b><br/>
The&#160;&#160;XCP&#160;&#160;station&#160;&#160;identifier&#160;&#160;is&#160;&#160;an&#160;ASCII&#160;&#160;string&#160;&#160;that&#160;&#160;identifies&#160;&#160;the&#160;&#160;ECU’s&#160;&#160;software&#160;&#160;program&#160;<br/>version.&#160;<br/>The&#160;&#160;MCS&#160;&#160;can&#160;&#160;interpret&#160;&#160;this&#160;&#160;identifier&#160;&#160;as&#160;&#160;file&#160;&#160;name&#160;&#160;for&#160;&#160;the&#160;&#160;ECU&#160;&#160;database.&#160;&#160;The&#160;&#160;ECU&#160;<br/>developer&#160;&#160;should&#160;&#160;change&#160;&#160;the&#160;&#160;XCP&#160;&#160;station&#160;&#160;identifier&#160;&#160;with&#160;&#160;each&#160;&#160;program&#160;&#160;change.&#160;This&#160;&#160;will&#160;<br/>prevent&#160;&#160;database&#160;&#160;mix-ups&#160;&#160;and&#160;&#160;grant&#160;&#160;the&#160;&#160;correct&#160;&#160;access&#160;&#160;of&#160;&#160;measurement&#160;&#160;and&#160;&#160;calibration&#160;<br/>objects&#160;&#160;from&#160;&#160;the&#160;&#160;MCS&#160;&#160;to&#160;&#160;the&#160;&#160;ECU.&#160;&#160;Another&#160;&#160;benefit&#160;&#160;of&#160;&#160;the&#160;&#160;usage&#160;&#160;of&#160;&#160;the&#160;&#160;XCP&#160;&#160;station&#160;<br/>identifier&#160;is&#160;the&#160;automatic&#160;assignment&#160;of&#160;the&#160;correct&#160;ECU&#160;database&#160;at&#160;program&#160;start&#160;of&#160;the&#160;<br/>MCS&#160;via&#160;the&#160;plug&#160;&amp;&#160;play&#160;mechanism.&#160;The&#160;plug&#160;&amp;&#160;play&#160;mechanism&#160;prevents&#160;the&#160;user&#160;from&#160;<br/>selecting&#160;the&#160;wrong&#160;ECU&#160;database.&#160;<br/>
<b>3.6.2&#160;</b><br/>
<b>XCP&#160;Generic&#160;Identification&#160;</b><br/>
The&#160;XCP&#160;provides&#160;a&#160;generic&#160;mechanism&#160;for&#160;identification&#160;by&#160;the&#160;GET_ID&#160;command.&#160;For&#160;this&#160;<br/>purpose&#160;a&#160;call-back&#160;exist&#160;which&#160;can&#160;be&#160;implemented&#160;by&#160;the&#160;user&#160;to&#160;provide&#160;the&#160;requested&#160;<br/>information&#160;(see<a href="TechnicalReference_XCPs.html#50">&#160;5.5.3&#160;XcpAppl_GetIdData).</a>&#160;<br/>
<b>3.7&#160;</b><br/>
<b>Seed &amp; Key&#160;</b><br/>
The&#160;&#160;seed&#160;&#160;and&#160;&#160;key&#160;&#160;feature&#160;&#160;allows&#160;&#160;individual&#160;&#160;access&#160;&#160;protection&#160;&#160;for&#160;&#160;calibration,&#160;&#160;flash&#160;<br/>programming,&#160;&#160;synchronous&#160;&#160;data&#160;&#160;acquisition&#160;&#160;and&#160;&#160;data&#160;&#160;stimulation.&#160;&#160;The&#160;&#160;MCS&#160;&#160;requests&#160;&#160;a&#160;<br/>seed&#160;&#160;(a&#160;&#160;few&#160;&#160;data&#160;&#160;bytes)&#160;&#160;from&#160;&#160;the&#160;&#160;ECU&#160;&#160;and&#160;&#160;calculates&#160;&#160;a&#160;&#160;key&#160;&#160;based&#160;&#160;on&#160;&#160;a&#160;&#160;proprietary&#160;<br/>algorithm&#160;and&#160;sends&#160;it&#160;back to&#160;the&#160;ECU.&#160;<br/>If&#160;&#160;Seed&#160;&#160;&amp;&#160;&#160;Key&#160;&#160;is&#160;&#160;enabled&#160;&#160;in&#160;&#160;the&#160;&#160;configuration&#160;&#160;tool&#160;&#160;the&#160;&#160;following&#160;&#160;APIs&#160;&#160;need&#160;&#160;to&#160;&#160;be&#160;<br/>implemented&#160;by&#160;the&#160;user:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#51">5.5.4&#160;XcpAppl_GetSeed&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#51">5.5.5&#160;XcpAppl_Unlock&#160;</a><br/>
The&#160;&#160;XcpAppl_GetSeed&#160;&#160;call-back&#160;&#160;function&#160;&#160;returns&#160;&#160;a&#160;&#160;seed&#160;&#160;that&#160;&#160;is&#160;&#160;transferred&#160;&#160;to&#160;&#160;the&#160;&#160;MCS.&#160;<br/>The&#160;&#160;XcpAppl_Unlock&#160;&#160;call-back&#160;&#160;function&#160;&#160;has&#160;&#160;to&#160;&#160;verify&#160;&#160;a&#160;&#160;received&#160;&#160;key&#160;&#160;based&#160;&#160;on&#160;&#160;the&#160;&#160;seed&#160;<br/>and&#160;then&#160;return the&#160;resource&#160;that&#160;shall&#160;be&#160;unlocked.&#160;<br/>The&#160;&#160;protection&#160;&#160;state&#160;&#160;can&#160;&#160;also&#160;&#160;individually&#160;&#160;be&#160;&#160;modified&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;&#160;The&#160;&#160;following&#160;<br/>service&#160;can&#160;be&#160;used&#160;for this purpose:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#41">5.2.12&#160;Xcp_ModifyProtectionStatus&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
17&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=18></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-18_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-18_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;usage&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;The&#160;calculation of&#160;the&#160;key&#160;is&#160;done&#160;in a&#160;DLL,&#160;which is developed&#160;by&#160;the&#160;ECU&#160;<br/>
manufacturer&#160;and&#160;which must&#160;be&#160;located&#160;in&#160;the&#160;EXEC&#160;directory&#160;of&#160;CANape.&#160;CANape&#160;<br/>can&#160;access&#160;the&#160;ECU&#160;only&#160;if&#160;the&#160;ECU&#160;accepts&#160;the&#160;key.&#160;If&#160;the&#160;key&#160;is&#160;not&#160;valid,&#160;the&#160;ECU&#160;<br/>stays&#160;locked.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
<b>3.8&#160;</b><br/>
<b>Checksum Calculation&#160;</b><br/>
The&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;Layer&#160;&#160;supports&#160;&#160;calculation&#160;&#160;of&#160;&#160;a&#160;&#160;checksum&#160;&#160;over&#160;&#160;a&#160;&#160;specific&#160;&#160;memory&#160;<br/>range.&#160;The&#160;XCP&#160;Protocol&#160;Layer&#160;supports&#160;all&#160;XCP&#160;ADD&#160;algorithms&#160;and&#160;the&#160;CRC16CCITT&#160;<br/>checksum&#160;&#160;calculation&#160;&#160;algorithm.&#160;&#160;If&#160;&#160;the&#160;&#160;AUTOSAR&#160;&#160;CRC&#160;&#160;Module&#160;&#160;is&#160;&#160;used&#160;&#160;also&#160;&#160;the&#160;&#160;XCP&#160;<br/>CRC32&#160;algorithm&#160;can&#160;be&#160;used.&#160;<br/>If&#160;checksum&#160;calculation&#160;is enabled&#160;the&#160;background&#160;task&#160;has to&#160;be&#160;called&#160;cyclically.&#160;<br/>
<b>3.8.1&#160;</b><br/>
<b>Custom CRC&#160;calculation&#160;</b><br/>
The&#160;Protocol&#160;Layer&#160;also&#160;allows&#160;the&#160;calculation&#160;of&#160;the&#160;CRC&#160;by&#160;the&#160;application.&#160;For&#160;this&#160;the&#160;<br/>call-back&#160;is called:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#65">5.5.28&#160;XcpAppl_CalculateChecksum&#160;</a><br/>
This&#160;call-back&#160;can&#160;either&#160;calculate&#160;the&#160;checksum&#160;synchronously&#160;and&#160;return&#160;XCP_CMD_OK&#160;or&#160;<br/>it&#160;&#160;can&#160;&#160;trigger&#160;&#160;the&#160;&#160;calculation&#160;&#160;and&#160;&#160;return&#160;&#160;XCP_CMD_PENDING&#160;&#160;for&#160;&#160;asynchronous&#160;&#160;calculation&#160;&#160;of&#160;<br/>the&#160;checksum.&#160;In&#160;each&#160;case&#160;the&#160;response&#160;frame&#160;has to&#160;be&#160;assembled.&#160;<br/>
<b>3.9&#160;</b><br/>
<b>Memory&#160;Access&#160;by&#160;Application&#160;</b><br/>
Memory&#160;&#160;access&#160;&#160;to&#160;measure&#160;&#160;or&#160;&#160;to&#160;&#160;calibrate&#160;&#160;variables&#160;&#160;is&#160;&#160;performed&#160;by&#160;&#160;two&#160;&#160;call-backs&#160;&#160;that&#160;<br/>can&#160;&#160;be&#160;&#160;modified&#160;&#160;by&#160;&#160;the&#160;&#160;user&#160;&#160;to&#160;&#160;his&#160;&#160;needs.&#160;&#160;Please&#160;&#160;note&#160;&#160;that&#160;&#160;these&#160;API&#160;&#160;are&#160;&#160;only&#160;&#160;used&#160;&#160;for&#160;<br/>polling&#160;&#160;access&#160;&#160;by&#160;&#160;default.&#160;&#160;DAQ/STIM&#160;&#160;uses&#160;&#160;direct&#160;&#160;memory&#160;&#160;access&#160;&#160;out&#160;&#160;of&#160;&#160;performance&#160;<br/>reasons.&#160;<br/>
DAQ/STIM&#160;<br/>
access&#160;<br/>
via&#160;<br/>
these&#160;<br/>
call-backs&#160;<br/>
can&#160;<br/>
be&#160;<br/>
enabled&#160;<br/>
by&#160;<br/>
/MICROSAR/Xcp/XcpGeneral/XcpDAQMemAccessByApplication.&#160;<br/>
The&#160;following&#160;call-backs&#160;are&#160;&#160;called&#160;by&#160;the&#160;Protocol&#160;Layer&#160;whenever&#160;a&#160;memory&#160;access&#160;is&#160;<br/>performed:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#52">5.5.6&#160;XcpAppl_CalibrationWrite&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#53">5.5.7&#160;XcpAppl_MeasurementRead&#160;</a><br/>
These&#160;APIs&#160;&#160;can&#160;&#160;be&#160;&#160;used&#160;&#160;to&#160;&#160;perform&#160;&#160;the&#160;&#160;memory&#160;&#160;access&#160;&#160;synchronously,&#160;&#160;asynchronously&#160;<br/>(e.g.&#160;&#160;for&#160;&#160;EEPROM&#160;&#160;access),&#160;&#160;and&#160;&#160;they&#160;&#160;can&#160;&#160;deny&#160;&#160;the&#160;&#160;memory&#160;&#160;access,&#160;&#160;depending&#160;&#160;on&#160;&#160;the&#160;<br/>return value.&#160;<br/>
<b>3.9.1&#160;</b><br/>
<b>Memory&#160;Read and Write&#160;Protection&#160;</b><br/>
Memory&#160;protection&#160;can&#160;easily&#160;be&#160;performed&#160;by&#160;the&#160;two&#160;above&#160;mentioned&#160;call-backs&#160;<br/>returning&#160;XCP_ERR_ACCESS_DENIED.&#160;<br/>
Additionally&#160;the&#160;configuration&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpMemoryReadProtection&#160;enables&#160;the&#160;call-<br/>back:&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
18&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=19></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-19_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#53">5.5.8&#160;XcpAppl_CheckReadAccess&#160;</a><br/>
This call-back is required&#160;for other services&#160;like&#160;CRC&#160;calculation&#160;to&#160;check the&#160;requested&#160;<br/>memory&#160;size&#160;beforehand.&#160;<br/>
As Flash&#160;programming&#160;uses&#160;a&#160;different&#160;memory&#160;access mechanism,&#160;a&#160;different&#160;set&#160;of&#160;call-<br/>backs is used.&#160;<br/>
The&#160;configuration&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming/XcpProgrammingWriteProtection&#160;enables&#160;<br/>the&#160;call-back:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#54">5.5.9&#160;XcpAppl_CheckProgramAccess&#160;</a><br/>
This call-back can&#160;be&#160;used&#160;to&#160;check the&#160;memory&#160;range&#160;whenever a&#160;flash&#160;segment&#160;is&#160;<br/>cleared&#160;or programmed.&#160;<br/>
<b>3.9.2&#160;</b><br/>
<b>Special&#160;use&#160;case&#160;“Type&#160;Safe Copy”&#160;</b><br/>
The&#160;above&#160;mentioned&#160;APIs&#160;will also&#160;be&#160;used&#160;if&#160;the&#160;feature “Type&#160;Safe&#160;Copy” is enabled.&#160;If&#160;<br/>this is the&#160;case&#160;polling&#160;as well&#160;as DAQ/STIM&#160;measurement&#160;will use&#160;these&#160;functions&#160;to&#160;<br/>read/write&#160;data.&#160;The&#160;template&#160;code&#160;for these&#160;functions performs read/write&#160;access&#160;in&#160;an&#160;<br/>atomic way&#160;for basic&#160;data&#160;types (e.g.&#160;uint16&#160;/&#160;uint32).&#160;<br/>
<b>3.10&#160;&#160;Event&#160;Codes&#160;</b><br/>
The&#160;slave&#160;device&#160;may&#160;report&#160;events&#160;by&#160;sending&#160;asynchronous&#160;event&#160;packets&#160;(EV),&#160;which&#160;<br/>contain&#160;event&#160;codes,&#160;to&#160;the&#160;master&#160;device.&#160;The&#160;transmission&#160;is&#160;not&#160;guaranteed&#160;due&#160;to&#160;the&#160;<br/>fact&#160;that&#160;these&#160;event&#160;packets&#160;are not&#160;acknowledged.&#160;<br/>The&#160;&#160;transmission&#160;&#160;of&#160;&#160;event&#160;&#160;codes&#160;&#160;is&#160;&#160;enabled&#160;&#160;with&#160;&#160;the&#160;&#160;configuration&#160;&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpAsynchMessage/XcpEventCodes.&#160;The&#160;transmission&#160;is&#160;done&#160;<br/>by&#160;the&#160;service:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#38">5.2.6&#160;Xcp_SendEvent.</a>&#160;<br/>
The&#160;event&#160;codes can&#160;be&#160;found&#160;in&#160;the&#160;following&#160;table.&#160;<br/>
<b>Event&#160;</b><br/>
<b>Code&#160;&#160;Description&#160;</b><br/>
XCP_EVC_RESUME_MODE&#160;<br/>
0x00&#160;<br/>
The&#160;slave indicates&#160;that&#160;it&#160;is&#160;starting&#160;in RESUME&#160;<br/>mode.&#160;<br/>
XCP_EVC_CLEAR_DAQ&#160;<br/>
0x01&#160;<br/>
The&#160;slave indicates&#160;that&#160;the&#160;DAQ&#160;configuration&#160;in&#160;non-<br/>volatile memory&#160;has&#160;been cleared.&#160;<br/>
XCP_EVC_STORE_DAQ&#160;<br/>
0x02&#160;<br/>
The&#160;slave indicates&#160;that&#160;the&#160;DAQ&#160;configuration&#160;has&#160;<br/>been&#160;stored&#160;into non-volatile memory.&#160;<br/>
XCP_EVC_STORE_CAL&#160;<br/>
0x03&#160;<br/>
The&#160;slave indicates&#160;that&#160;the&#160;calibration data has&#160;been&#160;<br/>stored.&#160;<br/>
XCP_EVC_CMD_PENDING&#160;<br/>
0x05&#160;<br/>
The&#160;slave requests&#160;the&#160;master&#160;to&#160;restart&#160;the&#160;time-out&#160;<br/>detection.&#160;<br/>
XCP_EVC_DAQ_OVERLOAD&#160;<br/>
0x06&#160;<br/>
The&#160;slave indicates&#160;an&#160;overload&#160;situation&#160;when&#160;<br/>transferring&#160;DAQ&#160;lists.&#160;<br/>
XCP_EVC_SESSION_TERMINATED&#160;&#160;0x07&#160;<br/>
The&#160;slave indicates&#160;to&#160;the master&#160;that&#160;it&#160;autonomously&#160;<br/>decided to disconnect&#160;the current&#160;XCP&#160;session.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
19&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=20></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-20_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
XCP_EVC_TIME_SYNC&#160;<br/>
0x08&#160;<br/>
Transfer&#160;of&#160;externally&#160;triggered&#160;timestamp.&#160;<br/>
XCP_EVC_STIM_TIMEOUT&#160;<br/>
0x09&#160;<br/>
Indication of&#160;a&#160;STIM&#160;timeout.&#160;<br/>
XCP_EVC_SLEEP&#160;<br/>
0x0A&#160;<br/>
Slave entering&#160;SLEEP&#160;mode.&#160;<br/>
XCP_EVC_WAKE_UP&#160;<br/>
0x0B&#160;<br/>
Slave leaving&#160;SLEEP&#160;mode.&#160;<br/>
XCP_EVC_USER&#160;<br/>
0xFE&#160;<br/>
User-defined&#160;event.&#160;<br/>
XCP_EVC_TRANSPORT&#160;<br/>
0xFF&#160;<br/>
Transport&#160;layer&#160;specific&#160;event.&#160;<br/>
Table&#160;3-6&#160;&#160;&#160;Event&#160;codes&#160;<br/>
<b>3.11&#160;&#160;Service&#160;Request&#160;Messages&#160;&#160;</b><br/>
The&#160;slave&#160;device&#160;may&#160;request&#160;some&#160;action&#160;to&#160;be&#160;performed&#160;by&#160;the&#160;master&#160;device.&#160;This&#160;is&#160;<br/>done&#160;by&#160;the&#160;transmission&#160;of&#160;a&#160;Service&#160;&#160;Request&#160;&#160;Packet&#160;&#160;(SERV)&#160;that&#160;&#160;contains&#160;the&#160;service&#160;<br/>request&#160;&#160;code.&#160;&#160;The&#160;&#160;transmission&#160;&#160;of&#160;&#160;service&#160;&#160;request&#160;&#160;packets&#160;&#160;is&#160;&#160;asynchronous&#160;&#160;and&#160;&#160;not&#160;<br/>guaranteed&#160;because&#160;these&#160;packets&#160;are&#160;not&#160;acknowledged.&#160;<br/>The&#160;service&#160;request&#160;messages can&#160;be&#160;sent&#160;by&#160;the&#160;following&#160;functions:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#38">5.2.7&#160;Xcp_PutChar&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#39">5.2.8&#160;Xcp_Print&#160;</a><br/>
<b>3.12&#160;&#160;User Defined&#160;Command&#160;</b><br/>
The&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;allows&#160;&#160;having&#160;&#160;a&#160;&#160;user&#160;&#160;defined&#160;&#160;command&#160;&#160;with&#160;&#160;an&#160;&#160;application&#160;&#160;specific&#160;<br/>functionality.&#160;<br/>
The&#160;<br/>
user&#160;<br/>
defined&#160;<br/>
command&#160;<br/>
is&#160;<br/>
enabled&#160;<br/>
by&#160;<br/>
setting&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpUserDefinedCommand&#160;and&#160;upon&#160;reception&#160;of&#160;<br/>the&#160;&#160;user&#160;&#160;command&#160;&#160;the&#160;&#160;following&#160;&#160;callback&#160;&#160;function&#160;&#160;is&#160;&#160;called&#160;&#160;by&#160;&#160;the&#160;&#160;XCP&#160;&#160;command&#160;<br/>processor:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#54">5.5.10&#160;XcpAppl_UserService&#160;</a><br/>
<b>3.13&#160;&#160;Synchronous&#160;Data Transfer&#160;</b><br/>
<b>3.13.1&#160;&#160;Synchronous&#160;Data&#160;Acquisition&#160;(DAQ)&#160;<br/></b>The&#160;<br/>
synchronous&#160;<br/>
data&#160;<br/>
transfer&#160;<br/>
can&#160;<br/>
be&#160;<br/>
enabled&#160;<br/>
with&#160;<br/>
the&#160;<br/>
container&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim.&#160;&#160;In&#160;&#160;this&#160;mode,&#160;&#160;the&#160;&#160;MCS&#160;&#160;configures&#160;&#160;tables&#160;&#160;of&#160;<br/>memory&#160;&#160;addresses&#160;&#160;in&#160;&#160;the&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;Layer.&#160;&#160;These&#160;&#160;tables&#160;&#160;contain&#160;&#160;pointers&#160;&#160;to&#160;<br/>measurement&#160;objects,&#160;which&#160;have&#160;been&#160;configured&#160;previously&#160;for&#160;the&#160;measurement&#160;in&#160;the&#160;<br/>MCS.&#160;Each&#160;configured&#160;table&#160;is assigned&#160;to&#160;an&#160;event&#160;channel.&#160;<br/>The&#160;function&#160;Xcp_Event(x)&#160;has&#160;to&#160;be&#160;called&#160;for&#160;each&#160;event&#160;channel&#160;with&#160;the&#160;corresponding&#160;<br/>event&#160;&#160;channel&#160;&#160;number&#160;&#160;as&#160;&#160;parameter.&#160;&#160;The&#160;&#160;application&#160;&#160;has&#160;&#160;to&#160;&#160;ensure&#160;&#160;that&#160;&#160;Xcp_Event&#160;&#160;is&#160;<br/>called&#160;with&#160;the&#160;correct&#160;cycle&#160;time.&#160;Note&#160;that&#160;the&#160;event&#160;channel&#160;numbers&#160;are&#160;given&#160;by&#160;the&#160;<br/>GenTool&#160;&#160;by&#160;&#160;configuring&#160;&#160;/MICROSAR/Xcp/XcpConfig/XcpEventChannel.&#160;&#160;Symbolic&#160;&#160;name&#160;<br/>values for each&#160;event&#160;channel are&#160;generated&#160;by&#160;the&#160;GenTool.&#160;<br/>The&#160;&#160;ECU&#160;&#160;automatically&#160;&#160;transmits&#160;&#160;the&#160;&#160;current&#160;&#160;value&#160;&#160;of&#160;&#160;the&#160;&#160;measurement&#160;&#160;objects&#160;&#160;via&#160;<br/>messages&#160;to&#160;the&#160;MCS,&#160;when&#160;the&#160;function&#160;Xcp_Event&#160;is&#160;executed&#160;in&#160;the&#160;ECU’s&#160;code&#160;with&#160;<br/>the&#160;corresponding&#160;event&#160;channel&#160;number.&#160;This&#160;means&#160;that&#160;the&#160;data&#160;can&#160;be&#160;transmitted&#160;at&#160;<br/>any&#160;particular point&#160;of&#160;the&#160;ECU&#160;code&#160;when&#160;the&#160;data&#160;values&#160;are valid.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
20&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=21></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-21_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-21_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
The&#160;data&#160;acquisition&#160;mode&#160;can&#160;be&#160;used&#160;in&#160;multiple&#160;configurations&#160;that&#160;are&#160;described&#160;within&#160;<br/>the&#160;next&#160;chapters.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;usage&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;It&#160;is&#160;recommended&#160;to&#160;enable both data acquisition&#160;plug&#160;&amp;&#160;play&#160;mechanisms&#160;to detect&#160;<br/>
the&#160;DAQ&#160;settings.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.13.2&#160;&#160;DAQ&#160;Timestamp&#160;<br/></b>There are&#160;two&#160;methods to&#160;generate&#160;timestamps&#160;for data&#160;acquisition&#160;signals.&#160;<br/>
1.&#160;By&#160;the&#160;MCS&#160;tool&#160;on&#160;reception&#160;of&#160;the&#160;message&#160;<br/>2.&#160;By&#160;the&#160;ECU&#160;(XCP&#160;slave)&#160;<br/>
The&#160;time&#160;precision&#160;of&#160;the&#160;MCS&#160;tool&#160;is&#160;adequate&#160;for&#160;the&#160;most&#160;applications;&#160;however,&#160;some&#160;<br/>applications&#160;&#160;like&#160;&#160;the&#160;&#160;monitoring&#160;&#160;of&#160;&#160;the&#160;&#160;OSEK&#160;&#160;operating&#160;&#160;system&#160;&#160;or&#160;&#160;measurement&#160;&#160;on&#160;<br/>FlexRay&#160;&#160;with&#160;&#160;an&#160;&#160;event&#160;&#160;cycle&#160;&#160;time&#160;&#160;smaller&#160;&#160;than&#160;&#160;the&#160;&#160;FlexRay&#160;&#160;cycle&#160;&#160;time&#160;&#160;require&#160;&#160;higher&#160;<br/>precision&#160;timestamps.&#160;In&#160;such&#160;cases,&#160;ECU&#160;generated&#160;timestamps are&#160;recommended.&#160;<br/>The&#160;timestamp&#160;must&#160;be&#160;implemented&#160;in&#160;a&#160;call-back which&#160;returns&#160;the&#160;current&#160;value:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#49">5.5.1&#160;XcpAppl_GetTimestamp&#160;</a><br/>
There are&#160;several possibilities to&#160;implement&#160;such&#160;a&#160;timestamp:&#160;<br/>
<b>&gt;&#160;&#160;</b>16bit Counter variable,&#160;incremented&#160;by&#160;software in&#160;a&#160;fast&#160;task (.e.g.&#160;1ms task)&#160;for&#160;<br/>
applications where such&#160;a&#160;resolution&#160;is sufficient&#160;and&#160;returned&#160;in&#160;the&#160;above&#160;mentioned&#160;<br/>call-back.&#160;<br/>
<b>&gt;&#160;&#160;</b>32bit&#160;General Purpose&#160;Timer&#160;of&#160;the&#160;used&#160;µC,&#160;configured&#160;to&#160;a&#160;certain&#160;repetition&#160;rate&#160;<br/>
(e.g.&#160;1µs increment)&#160;for applications that&#160;require&#160;a&#160;high&#160;resolution&#160;of&#160;the&#160;timestamp&#160;<br/>and&#160;returned&#160;in&#160;the&#160;above&#160;mentioned&#160;call-back.&#160;<br/>
The&#160;&#160;resolution&#160;&#160;and&#160;&#160;increment&#160;&#160;value&#160;&#160;of&#160;this&#160;&#160;timer&#160;&#160;must&#160;&#160;be&#160;&#160;configured&#160;&#160;in&#160;&#160;the&#160;&#160;configuration&#160;<br/>tool accordingly.&#160;<br/>
<b>3.13.3&#160;&#160;Power-Up&#160;Data Transfer&#160;&#160;<br/></b>Power-up&#160;data&#160;transfer&#160;(also&#160;called&#160;resume&#160;mode)&#160;allows&#160;automatic&#160;data&#160;transfer&#160;(DAQ)&#160;of&#160;<br/>the&#160;&#160;slave&#160;&#160;directly&#160;&#160;after&#160;&#160;power-up.&#160;&#160;Automotive&#160;&#160;applications&#160;&#160;would&#160;&#160;e.g.&#160;&#160;be&#160;&#160;measurements&#160;<br/>during&#160;cold&#160;start.&#160;<br/>The&#160;slave&#160;and&#160;the&#160;master&#160;have&#160;to&#160;store&#160;all&#160;the&#160;necessary&#160;communication&#160;parameters&#160;for&#160;<br/>the&#160;&#160;automatic&#160;&#160;data&#160;&#160;transfer&#160;&#160;after&#160;&#160;power-up.&#160;&#160;Therefore&#160;&#160;the&#160;&#160;following&#160;&#160;functions&#160;&#160;have&#160;&#160;to&#160;&#160;be&#160;<br/>implemented&#160;in&#160;the&#160;slave.&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#59">5.5.19&#160;XcpAppl_DaqResume&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#60">5.5.20&#160;XcpAppl_DaqResumeStore&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#61">5.5.21&#160;XcpAppl_DaqResumeClear&#160;</a>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
21&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=22></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-22_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-22_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
To&#160;<br/>
use&#160;<br/>
the&#160;<br/>
resume&#160;<br/>
mode&#160;<br/>
the&#160;<br/>
compiler&#160;<br/>
switch&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpResumeMode&#160;has to&#160;be&#160;enabled.&#160;<br/>
Keep&#160;&#160;also&#160;&#160;in&#160;&#160;mind&#160;that&#160;&#160;the&#160;&#160;Xcp_MainFunction&#160;&#160;has&#160;&#160;to&#160;be&#160;&#160;called&#160;&#160;cyclically&#160;&#160;in&#160;&#160;order&#160;for&#160;&#160;the&#160;<br/>resume&#160;mode&#160;to&#160;work.&#160;If&#160;Resume&#160;Mode&#160;is&#160;enabled&#160;by&#160;the&#160;MCS&#160;tool&#160;the&#160;before&#160;mentioned&#160;<br/>call-back XcpAppl_DaqResumeStore is&#160;called&#160;by&#160;the&#160;Xcp_MainFunction.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;use&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;Start&#160;the&#160;resume&#160;mode&#160;with the&#160;menu&#160;command&#160;Measurement&#160;|&#160;Start&#160;and push&#160;the&#160;<br/>
button&#160;“Measure&#160;offline”&#160;on&#160;the&#160;dialog&#160;box.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.13.4&#160;&#160;Data&#160;Stimulation (STIM)&#160;&#160;<br/></b>Synchronous Data&#160;Stimulation&#160;is the&#160;inverse&#160;mode&#160;of&#160;Synchronous&#160;Data&#160;Acquisition.&#160;<br/>The&#160;&#160;STIM&#160;&#160;processor&#160;&#160;buffers&#160;&#160;incoming&#160;&#160;data&#160;&#160;stimulation&#160;&#160;packets.&#160;&#160;When&#160;&#160;an&#160;&#160;event&#160;&#160;occurs&#160;<br/>(Xcp_Event&#160;&#160;is&#160;&#160;called),&#160;&#160;which&#160;&#160;triggers&#160;&#160;a&#160;&#160;DAQ&#160;&#160;list&#160;&#160;in&#160;&#160;data&#160;&#160;stimulation&#160;&#160;mode,&#160;&#160;the&#160;&#160;buffered&#160;<br/>data&#160;is transferred&#160;to&#160;the&#160;slave&#160;device’s memory.&#160;<br/>To&#160;<br/>
use&#160;<br/>
data&#160;<br/>
stimulation&#160;<br/>
(STIM)&#160;<br/>
the&#160;<br/>
configuration&#160;<br/>
switch&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpSynchronousDataStimulation&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>enabled.&#160;<br/>With&#160;the&#160;AP<a href="TechnicalReference_XCPs.html#43">I&#160;Xcp_SetStimMode&#160;</a>the&#160;mode&#160;of&#160;the&#160;write&#160;operation&#160;can&#160;be&#160;selected.&#160;<br/>
<b>3.13.5&#160;&#160;Bypassing&#160;&#160;<br/></b>Bypassing&#160;&#160;can&#160;&#160;be&#160;&#160;realized&#160;&#160;by&#160;&#160;making&#160;&#160;use&#160;&#160;of&#160;&#160;Synchronous&#160;&#160;Data&#160;Acquisition&#160;&#160;(DAQ)&#160;&#160;and&#160;<br/>Synchronous Data&#160;Stimulation&#160;(STIM)&#160;simultaneously.&#160;<br/>State-of-the-art&#160;Bypassing&#160;also&#160;requires&#160;the&#160;administration&#160;of&#160;the&#160;bypassed&#160;functions.&#160;This&#160;<br/>administration&#160;has&#160;to&#160;be&#160;performed&#160;in&#160;a&#160;MCS&#160;like&#160;e.g.&#160;CANape.&#160;<br/>Also&#160;&#160;the&#160;&#160;slave&#160;&#160;should&#160;&#160;perform&#160;&#160;plausibility&#160;&#160;checks&#160;&#160;on&#160;&#160;the&#160;&#160;data&#160;&#160;it&#160;&#160;receives&#160;&#160;through&#160;&#160;data&#160;<br/>stimulation.&#160;&#160;The&#160;&#160;borders&#160;&#160;and&#160;&#160;actions&#160;&#160;of&#160;&#160;these&#160;&#160;checks&#160;&#160;are&#160;&#160;set&#160;&#160;by&#160;&#160;standard&#160;&#160;calibration&#160;<br/>methods.&#160;No&#160;special XCP&#160;commands&#160;are needed&#160;for this.&#160;<br/>
<b>3.13.6&#160;&#160;Data&#160;Acquisition Plug &amp; Play&#160;Mechanisms&#160;<br/></b>The&#160;XCP&#160;Protocol Layer comprises two&#160;plug&#160;&amp;&#160;play&#160;mechanisms&#160;for data&#160;acquisition:&#160;<br/>
<b>&gt;&#160;&#160;</b>General&#160;information&#160;on&#160;the&#160;DAQ&#160;processor&#160;&#160;&#160;<br/>
<b>&gt;&#160;&#160;</b>General information&#160;on&#160;DAQ&#160;processing&#160;resolution&#160;&#160;&#160;<br/>
The&#160;general information&#160;on&#160;the&#160;DAQ&#160;processor contains:&#160;<br/>
<b>&gt;&#160;&#160;</b>General&#160;properties of&#160;DAQ&#160;lists&#160;<br/>
<b>&gt;&#160;&#160;</b>Total number of&#160;available&#160;DAQ&#160;lists&#160;and&#160;event&#160;channels&#160;<br/>
The&#160;general information&#160;on&#160;the&#160;DAQ&#160;processing&#160;resolution&#160;contains:&#160;<br/>
<b>&gt;&#160;&#160;</b>Granularity&#160;and&#160;maximum&#160;size&#160;of&#160;ODT&#160;entries&#160;for both&#160;directions&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
22&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=23></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-23_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>&gt;&#160;&#160;</b>Information&#160;on&#160;the&#160;time&#160;stamp&#160;mode&#160;<br/>
<b>3.13.7&#160;&#160;Event&#160;Channel&#160;Plug &amp; Play&#160;Mechanism&#160;<br/></b>The&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;Layer&#160;&#160;supports&#160;&#160;a&#160;&#160;plug&#160;&#160;&amp;&#160;&#160;play&#160;&#160;mechanism&#160;&#160;that&#160;&#160;allows&#160;&#160;the&#160;&#160;MCS&#160;&#160;to&#160;<br/>automatically&#160;detect&#160;&#160;the&#160;available&#160;&#160;event&#160;&#160;channels&#160;in&#160;the&#160;slave.&#160;The&#160;associated&#160;service&#160;&#160;is&#160;<br/>enabled&#160;by&#160;/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpGetDAQEventInfo.&#160;<br/>
If&#160;this&#160;option&#160;is&#160;enabled&#160;the&#160;MCS&#160;can&#160;read&#160;the&#160;configured&#160;Event&#160;Channels&#160;from&#160;the&#160;XCP&#160;<br/>Slave.&#160;<br/>
<b>3.13.8&#160;&#160;Send Queue&#160;<br/></b>The&#160;Send&#160;Queue&#160;is used&#160;to&#160;store&#160;measurement&#160;values until they&#160;can&#160;be&#160;transmitted&#160;on&#160;the&#160;<br/>bus.&#160;The&#160;Send&#160;Queue&#160;size&#160;can&#160;be&#160;configured&#160;in&#160;the&#160;configuration&#160;tool.&#160;It&#160;is&#160;defined&#160;by&#160;the&#160;<br/>parameter&#160;&#160;/MICROSAR/Xcp/XcpConfig/XcpCoreDefinition/XcpSendQueueSize.&#160;&#160;Please&#160;&#160;be&#160;<br/>aware&#160;that&#160;in&#160;a&#160;Multi&#160;Core&#160;system&#160;multiple&#160;Send&#160;Queues&#160;may&#160;be&#160;configured.&#160;Each&#160;Core&#160;<br/>the&#160;&#160;Xcp_Event&#160;&#160;function&#160;&#160;is&#160;&#160;called&#160;&#160;on&#160;&#160;requires&#160;&#160;its&#160;&#160;own&#160;&#160;Send&#160;&#160;Queue.&#160;&#160;The&#160;&#160;sizes&#160;&#160;may&#160;&#160;vary,&#160;<br/>depending&#160;on&#160;the&#160;number&#160;of&#160;measurement&#160;values&#160;on&#160;each&#160;Core.&#160;See&#160;chapte<a href="TechnicalReference_XCPs.html#26">r&#160;3.16&#160;Multi&#160;<br/>Core&#160;Support.</a>&#160;<br/>
<b>3.13.9&#160;&#160;Data&#160;consistency&#160;<br/></b>The&#160;&#160;XCP&#160;&#160;supports&#160;&#160;a&#160;&#160;data&#160;&#160;consistency&#160;&#160;on&#160;&#160;ODT&#160;&#160;level.&#160;&#160;If&#160;&#160;a&#160;&#160;consistency&#160;&#160;on&#160;&#160;DAQ&#160;&#160;level&#160;&#160;is&#160;<br/>required,&#160;interrupts&#160;must&#160;be&#160;disabled&#160;prior&#160;calling&#160;Xcp_Event&#160;and&#160;enabled&#160;again&#160;after&#160;the&#160;<br/>function&#160;&#160;returns.&#160;&#160;The&#160;&#160;following&#160;&#160;example&#160;&#160;demonstrates&#160;&#160;the&#160;&#160;integrity&#160;&#160;on&#160;&#160;ODT&#160;&#160;level&#160;&#160;by&#160;<br/>showing&#160;the&#160;XCP&#160;ODT&#160;frames&#160;as&#160;sent&#160;on&#160;the&#160;bus.&#160;Two&#160;Events&#160;(x,&#160;y)&#160;are&#160;configured&#160;with&#160;<br/>DAQ&#160;list&#160;DAQ1&#160;assigned&#160;to&#160;Event(x)&#160;and&#160;DAQ&#160;list&#160;DAQ2&#160;assigned&#160;to&#160;Event(y).&#160;A&#160;call&#160;of&#160;the&#160;<br/>Xcp_Event&#160;&#160;function&#160;&#160;with&#160;&#160;the&#160;&#160;respective&#160;&#160;event&#160;&#160;channel&#160;&#160;number&#160;&#160;will&#160;&#160;then&#160;&#160;trigger&#160;&#160;the&#160;<br/>transmission&#160;of&#160;the&#160;associated&#160;DAQ&#160;list.&#160;<br/>Example1:&#160;a&#160;call&#160;of&#160;Xcp_Event(x)&#160;is&#160;interrupted&#160;by&#160;a&#160;call&#160;of&#160;Xcp_Event(y).&#160;This&#160;is&#160;allowed&#160;<br/>as&#160;&#160;long&#160;&#160;as&#160;&#160;the&#160;&#160;interrupt&#160;&#160;locks&#160;&#160;are&#160;&#160;provided&#160;&#160;by&#160;&#160;the&#160;&#160;Schedule&#160;&#160;Manager&#160;&#160;(default&#160;&#160;with&#160;<br/>MICROSAR stack).&#160;<br/>Example2:&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;Xcp_Event(x)&#160;&#160;is&#160;&#160;interrupted&#160;&#160;by&#160;&#160;a&#160;&#160;call&#160;&#160;of&#160;&#160;Xcp_Event(x).&#160;As&#160;&#160;a&#160;&#160;result&#160;&#160;a&#160;<br/>DAQ&#160;&#160;list&#160;&#160;is&#160;&#160;interrupted&#160;&#160;by&#160;&#160;itself.&#160;&#160;This&#160;&#160;is&#160;&#160;not&#160;&#160;allowed&#160;&#160;and&#160;&#160;must&#160;&#160;be&#160;&#160;prevented&#160;&#160;by&#160;&#160;data&#160;<br/>consistency&#160;on&#160;DAQ&#160;level.&#160;For this use&#160;a&#160;interrupt&#160;lock&#160;when&#160;calling&#160;Xcp_Event()&#160;<br/>
&#160;<br/>
DAQ1&#160;<br/>
DAQ2&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ODT0&#160;<br/>
ODT3&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ODT1&#160;<br/>
ODT4&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
ODT2&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;Example1&#160;<br/>
&#160;ODT0&#160;&#160;&#160;ODT1&#160;&#160;&#160;ODT3&#160;&#160;&#160;ODT4&#160;&#160;&#160;ODT2&#160;&#160;&#160;<br/>
&#160;<br/>
&#160;Example2&#160;<br/>
&#160;ODT0&#160;&#160;&#160;ODT1&#160;&#160;&#160;ODT0&#160;&#160;&#160;ODT1&#160;&#160;&#160;ODT2&#160;&#160;&#160;ODT2&#160;<br/>
Figure&#160;3-2&#160;Data&#160;consistency&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
23&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=24></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-24_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-24_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Note&#160;&#160;on&#160;&#160;Multi&#160;&#160;Core&#160;&#160;systems:&#160;&#160;It&#160;&#160;is&#160;&#160;in&#160;&#160;the&#160;&#160;responsibility&#160;&#160;of&#160;&#160;the&#160;&#160;user&#160;&#160;to&#160;&#160;assign&#160;&#160;only&#160;<br/>measurement&#160;values&#160;relevant&#160;for&#160;the&#160;Core&#160;to&#160;the&#160;corresponding&#160;Event&#160;Channel&#160;called&#160;on&#160;<br/>the&#160;specific&#160;Core.&#160;<br/>
<b>3.14&#160;&#160;The&#160;Online&#160;Data Calibration Model&#160;</b><br/>
<b>3.14.1&#160;&#160;Page&#160;Switching&#160;<br/></b>The&#160;&#160;MCS&#160;&#160;can&#160;&#160;switch&#160;&#160;between&#160;&#160;a&#160;&#160;flash&#160;&#160;page&#160;&#160;and&#160;&#160;a&#160;&#160;RAM&#160;&#160;page.&#160;&#160;The&#160;&#160;XCP&#160;&#160;command&#160;<br/>SET_CAL_PAGE&#160;is&#160;used&#160;to&#160;activate&#160;the&#160;required&#160;page.&#160;The&#160;page&#160;switching&#160;is enabled&#160;with&#160;<br/>the&#160;/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching&#160;definition.&#160;<br/>
The&#160;following&#160;application&#160;callback&#160;functions have&#160;to&#160;be&#160;implemented:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#62">5.5.23&#160;XcpAppl_GetCalPage&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#62">5.5.24&#160;XcpAppl_SetCalPage&#160;</a><br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;use&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;Open&#160;the&#160;dialog&#160;XCP&#160;Device Setup&#160;with the&#160;menu command&#160;Tools|Driver&#160;<br/>
Configuration.&#160;Go&#160;to&#160;the&#160;tab&#160;“FLASH”.&#160;Activate&#160;page&#160;switching.&#160;Enter&#160;a&#160;flash selector&#160;<br/>value&#160;e.g.&#160;1&#160;and a&#160;Ram&#160;selector&#160;e.g.&#160;0.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.14.2&#160;&#160;Page&#160;Switching Plug&#160;&amp; Play&#160;Mechanism&#160;<br/></b>The&#160;MCS&#160;can&#160;be&#160;automatically&#160;configured&#160;if&#160;the&#160;page&#160;switching&#160;plug&#160;&amp;&#160;play&#160;mechanism&#160;is&#160;<br/>used.&#160;This mechanism&#160;comprises&#160;<br/>
<b>&gt;&#160;&#160;</b>General information&#160;about&#160;the&#160;paging&#160;processor&#160;<br/>
The&#160;&#160;page&#160;&#160;switching&#160;&#160;plug&#160;&#160;&amp;&#160;&#160;play&#160;&#160;mechanism&#160;&#160;is&#160;&#160;enabled&#160;&#160;with&#160;&#160;the&#160;&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpGeneralPagingInfo.&#160;<br/>
<b>3.14.3&#160;&#160;Calibration Data&#160;Page&#160;Copying&#160;<br/></b>Calibration&#160;data&#160;page&#160;copying&#160;is&#160;performed&#160;by&#160;the&#160;XCP&#160;command&#160;COPY_CAL_PAGE.&#160;To&#160;<br/>enable&#160;<br/>
this&#160;<br/>
feature&#160;<br/>
the&#160;<br/>
compiler&#160;<br/>
switch&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpCopyPage&#160;has to&#160;be&#160;enabled.&#160;<br/>
For&#160;&#160;calibration&#160;&#160;data&#160;&#160;page&#160;&#160;copying&#160;&#160;the&#160;&#160;following&#160;&#160;application&#160;&#160;callback&#160;&#160;function&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;<br/>provided&#160;by&#160;the&#160;application:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#63">5.5.25&#160;XcpAppl_CopyCalPage&#160;</a><br/>
<b>3.14.4&#160;&#160;Freeze&#160;Mode&#160;Handling&#160;<br/></b>Freeze&#160;mode&#160;handling&#160;is&#160;performed&#160;by&#160;the&#160;XCP&#160;commands&#160;SET_SEGMENT_MODE&#160;and&#160;<br/>GET_SEGMENT_MODE.&#160;<br/>
To&#160;<br/>
enable&#160;<br/>
this&#160;<br/>
feature&#160;<br/>
the&#160;<br/>
parameter&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpFreezeMode&#160;has to&#160;be&#160;enabled.&#160;<br/>
For&#160;freeze&#160;mode&#160;handling&#160;the&#160;following&#160;application&#160;callback&#160;functions&#160;have&#160;to&#160;be&#160;provided&#160;<br/>by&#160;the&#160;application:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#64">5.5.26&#160;XcpAppl_SetFreezeMode&#160;</a><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
24&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=25></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-25_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-25_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#65">5.5.27&#160;XcpAppl_GetFreezeMode&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#61">5.5.22&#160;XcpAppl_CalResumeStore&#160;</a><br/>
<b>3.15&#160;&#160;Flash Programming&#160;&#160;</b><br/>
There are&#160;two&#160;methods available&#160;for the&#160;programming&#160;of&#160;flash&#160;memory.&#160;<br/>
<b>&gt;&#160;&#160;</b>Flash&#160;programming&#160;by&#160;the&#160;ECU’s application&#160;<br/>
<b>&gt;&#160;&#160;</b>Flash&#160;programming&#160;with&#160;a&#160;flash&#160;kernel&#160;<br/>
Depending&#160;on&#160;the&#160;hardware&#160;it&#160;might&#160;not&#160;be&#160;possible&#160;to&#160;reprogram&#160;an&#160;internal&#160;flash&#160;sector,&#160;<br/>while&#160;a&#160;program&#160;is&#160;running&#160;from&#160;another&#160;sector.&#160;In&#160;this&#160;case&#160;the&#160;usage&#160;of&#160;a&#160;special&#160;flash&#160;<br/>kernel is necessary.&#160;<br/>
<b>3.15.1&#160;&#160;Flash Programming&#160;by&#160;the&#160;ECU’s&#160;Application&#160;<br/></b>If&#160;&#160;the&#160;&#160;internal&#160;&#160;flash&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;reprogrammed&#160;&#160;and&#160;&#160;the&#160;&#160;microcontroller&#160;&#160;allows&#160;&#160;to&#160;<br/>simultaneously&#160;&#160;reprogram&#160;&#160;and&#160;&#160;execute&#160;&#160;code&#160;&#160;from&#160;&#160;the&#160;&#160;flash&#160;&#160;the&#160;&#160;programming&#160;&#160;can&#160;&#160;be&#160;<br/>performed&#160;with&#160;the&#160;ECU’s&#160;application&#160;that&#160;contains&#160;the&#160;XCP.&#160;This&#160;method&#160;is&#160;also&#160;used&#160;for&#160;<br/>the&#160;programming&#160;of&#160;external&#160;flash.&#160;<br/>The&#160;&#160;flash&#160;&#160;programming&#160;&#160;is&#160;&#160;done&#160;&#160;with&#160;&#160;the&#160;&#160;following&#160;&#160;XCP&#160;&#160;commands&#160;&#160;PROGRAM_START,&#160;<br/>PROGRAM_RESET,&#160;&#160;PROGRAM_CLEAR,&#160;&#160;PROGRAM,&#160;&#160;PROGRAM_NEXT,&#160;&#160;PROGRAM_MAX,&#160;&#160;PROGRAM_RESET,&#160;<br/>PROGRAM_FORMAT1,&#160;PROGRAM_VERIFY1.&#160;<br/>
The&#160;&#160;flash&#160;&#160;prepare,&#160;&#160;flash&#160;&#160;program&#160;&#160;and&#160;&#160;the&#160;&#160;clear&#160;&#160;routines&#160;&#160;are&#160;&#160;platform&#160;&#160;dependent&#160;&#160;and&#160;<br/>therefore have&#160;to&#160;be&#160;implemented&#160;by&#160;the&#160;application.&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#57">5.5.15&#160;XcpAppl_Reset&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#58">5.5.16&#160;XcpAppl_ProgramStart&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#58">5.5.17&#160;XcpAppl_FlashClear&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#59">5.5.18&#160;XcpAppl_FlashProgram&#160;</a><br/>
The&#160;<br/>
flash&#160;<br/>
programming&#160;<br/>
is&#160;<br/>
enabled&#160;<br/>
with&#160;<br/>
the&#160;<br/>
switch&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;usage&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;Open&#160;the&#160;dialog&#160;XCP&#160;Device Setup&#160;with&#160;the&#160;menu command&#160;Tools|Driver&#160;<br/>
Configuration.&#160;Go&#160;to&#160;the&#160;tab&#160;“FLASH”&#160;and&#160;select&#160;the&#160;entry&#160;“Direct”&#160;in&#160;the&#160;flash&#160;kernel&#160;<br/>drop&#160;down list.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.15.2&#160;&#160;Flash Programming&#160;Plug &amp; Play&#160;Mechanism&#160;<br/></b>The&#160;&#160;MCS&#160;&#160;(like&#160;&#160;e.g.&#160;&#160;CANape)&#160;&#160;can&#160;&#160;get&#160;&#160;information&#160;&#160;about&#160;&#160;the&#160;&#160;Flash&#160;&#160;and&#160;&#160;the&#160;&#160;Flash&#160;<br/>programming&#160;process&#160;from&#160;the&#160;ECU.&#160;The&#160;following&#160;information&#160;is provided&#160;by&#160;the&#160;ECU:&#160;<br/>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&#160;&#160; &#160;&#160;<br/>1&#160;Command not&#160;supported&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
25&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=26></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-26_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-26_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>&gt;&#160;&#160;</b>Number of&#160;sectors, start address&#160;or length&#160;of&#160;each&#160;sector&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;program sequence&#160;number,&#160;clear sequence&#160;number and&#160;programming&#160;method&#160;<br/>
<b>&gt;&#160;&#160;</b>Additional information&#160;about&#160;compression,&#160;encryption&#160;<br/>
The&#160;&#160;flash&#160;&#160;programming&#160;&#160;plug&#160;&#160;&amp;&#160;&#160;play&#160;&#160;mechanism&#160;&#160;is&#160;&#160;enabled&#160;&#160;with&#160;&#160;the&#160;&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming/XcpSector.&#160;<br/>
<b>3.15.3&#160;&#160;Flash Programming&#160;with&#160;a&#160;Flash Kernel&#160;<br/></b>A&#160;&#160;flash&#160;&#160;kernel&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;used&#160;&#160;for&#160;&#160;the&#160;&#160;flash&#160;&#160;programming&#160;&#160;if&#160;&#160;it&#160;&#160;is&#160;&#160;not&#160;&#160;possible&#160;&#160;to&#160;<br/>simultaneously&#160;&#160;reprogram&#160;&#160;and&#160;&#160;execute&#160;&#160;code&#160;&#160;from&#160;&#160;the&#160;&#160;flash.&#160;&#160;Even&#160;&#160;though&#160;&#160;the&#160;<br/>reprogrammed&#160;sector&#160;and&#160;the&#160;sector the&#160;code&#160;is executed&#160;from&#160;are&#160;different&#160;sectors.&#160;<br/>The&#160;application&#160;callback function&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#56">5.5.13&#160;XcpAppl_DisableNormalOperation&#160;<br/></a>•&#160;&#160;<a href="TechnicalReference_XCPs.html#57">5.5.14&#160;XcpAppl_StartBootLoader&#160;</a><br/>
is&#160;&#160;called&#160;&#160;prior&#160;&#160;to&#160;&#160;the&#160;&#160;flash&#160;&#160;kernel&#160;&#160;download&#160;&#160;in&#160;&#160;the&#160;&#160;RAM.&#160;&#160;Within&#160;&#160;this&#160;&#160;function&#160;&#160;the&#160;&#160;normal&#160;<br/>operation&#160;of&#160;the&#160;ECU&#160;has&#160;to&#160;be&#160;stopped&#160;and&#160;the&#160;flash&#160;kernel&#160;download&#160;can&#160;be&#160;prepared.&#160;<br/>Due&#160;&#160;to&#160;&#160;the&#160;&#160;flash&#160;&#160;kernel&#160;&#160;is&#160;&#160;downloaded&#160;&#160;in&#160;&#160;the&#160;&#160;RAM&#160;&#160;typically&#160;&#160;data&#160;&#160;gets&#160;&#160;lost&#160;&#160;and&#160;&#160;no&#160;&#160;more&#160;<br/>normal operation&#160;of&#160;the&#160;ECU&#160;is possible.&#160;<br/>The&#160;&#160;flash&#160;&#160;programming&#160;&#160;with&#160;&#160;a&#160;&#160;flash&#160;&#160;kernel&#160;&#160;is&#160;&#160;enabled&#160;&#160;with&#160;&#160;the&#160;&#160;switch&#160;<br/>/MICROSAR/Xcp/XcpGeneral/XcpBootloaderDownload.&#160;<br/>
&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Note&#160;<br/></b>Annotation&#160;for&#160;the&#160;usage&#160;of&#160;CANape:&#160;<br/>
&#160;&#160;The&#160;&#160;flash&#160;&#160;kernel&#160;&#160;is&#160;&#160;loaded&#160;&#160;by&#160;&#160;CANape&#160;&#160;into&#160;&#160;the&#160;&#160;microcontroller’s&#160;&#160;RAM&#160;&#160;via&#160;&#160;XCP&#160;<br/>
whenever&#160;&#160;the&#160;&#160;flash&#160;&#160;memory&#160;&#160;has&#160;&#160;to&#160;&#160;be&#160;&#160;reprogrammed.&#160;&#160;The&#160;&#160;flash&#160;&#160;kernel&#160;&#160;contains&#160;&#160;the&#160;<br/>necessary&#160;&#160;flash&#160;&#160;routines,&#160;&#160;its&#160;&#160;own&#160;&#160;CAN-Driver&#160;&#160;and&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;implementation&#160;&#160;to&#160;<br/>communicate via the&#160;CAN&#160;interface&#160;with CANape.&#160;<br/>
Every&#160;flash&#160;kernel&#160;must&#160;be&#160;customized&#160;to&#160;the&#160;microcontroller&#160;and&#160;the&#160;flash&#160;type&#160;being&#160;<br/>used.&#160;CANape&#160;already&#160;includes&#160;some&#160;flash&#160;kernels&#160;for&#160;several&#160;microcontrollers.&#160;There&#160;<br/>is&#160;&#160;also&#160;&#160;an&#160;&#160;application&#160;&#160;note&#160;&#160;available&#160;&#160;by&#160;&#160;Vector&#160;&#160;Informatik&#160;&#160;GmbH&#160;&#160;that&#160;&#160;describes&#160;&#160;the&#160;<br/>development&#160;of&#160;a proprietary&#160;flash&#160;kernel.&#160;<br/>
Open&#160;the&#160;dialog&#160;XCP&#160;Device Setup&#160;with the&#160;menu command&#160;Tools|Driver&#160;<br/>Configuration.&#160;Go&#160;to&#160;the&#160;tab&#160;“FLASH”,&#160;and select&#160;in the&#160;‘flash&#160;kernel’&#160;drop&#160;down list,&#160;the&#160;<br/>corresponding&#160;<i>fkl</i>&#160;file&#160;for&#160;the&#160;microcontroller&#160;being&#160;used.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>
<b>3.16&#160;&#160;Multi Core&#160;Support&#160;</b><br/>
<b>3.16.1&#160;&#160;Type&#160;Safe Copy&#160;<br/></b>The&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;Layer&#160;&#160;supports&#160;&#160;a&#160;&#160;feature&#160;&#160;called&#160;&#160;“Type&#160;&#160;Safe&#160;&#160;Copy”&#160;&#160;which&#160;&#160;provides&#160;<br/>atomic access to&#160;aligned&#160;uint16&#160;and&#160;uint32&#160;measurement&#160;values.&#160;This is important&#160;on&#160;multi&#160;<br/>core&#160;platforms&#160;where&#160;one&#160;core&#160;is&#160;accessing&#160;a&#160;measurement&#160;value&#160;while&#160;the&#160;XCP&#160;is&#160;trying&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
26&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=27></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-27_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
to&#160;do&#160;the&#160;same&#160;running&#160;from&#160;another&#160;core.&#160;The&#160;Type&#160;Safe&#160;Copy&#160;is&#160;used&#160;for&#160;polling&#160;while&#160;<br/>DAQ/STIM usually&#160;use&#160;direct&#160;memory&#160;access&#160;and&#160;copy&#160;byte&#160;wise.&#160;<br/>With&#160;this&#160;option&#160;disabled,&#160;all&#160;access&#160;to&#160;measurement&#160;values&#160;is&#160;performed&#160;byte&#160;wise&#160;which&#160;<br/>is not&#160;an&#160;atomic&#160;operation.&#160;<br/>The&#160;following&#160;points&#160;must&#160;be&#160;taken&#160;into&#160;consideration&#160;when&#160;enabling&#160;this option:&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;option&#160;allows the&#160;XCP&#160;to&#160;only&#160;read/write&#160;basic data&#160;types used&#160;on&#160;another core;&#160;it&#160;<br/>
cannot&#160;provide&#160;data&#160;consistency&#160;on&#160;ODT&#160;level.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;option&#160;has a&#160;slightly&#160;higher runtime.&#160;<br/>
<b>&gt;&#160;&#160;</b>Some&#160;MCS&#160;tools perform&#160;an&#160;optimization&#160;by&#160;grouping&#160;measurement&#160;values.&#160;This&#160;<br/>
option&#160;must&#160;be&#160;disabled;&#160;otherwise&#160;they&#160;do&#160;not&#160;represent&#160;unique&#160;data&#160;types anymore.&#160;<br/>
<b>3.16.2&#160;&#160;DAQ/STIM&#160;with Multi&#160;Core&#160;<br/></b>It&#160;&#160;is&#160;&#160;possible&#160;&#160;to&#160;&#160;execute&#160;&#160;the&#160;&#160;Xcp_Event&#160;&#160;function&#160;&#160;on&#160;&#160;a&#160;&#160;different&#160;&#160;Core.&#160;&#160;This&#160;&#160;must&#160;&#160;be&#160;<br/>configured&#160;&#160;in&#160;&#160;the&#160;&#160;configuration&#160;&#160;tool&#160;&#160;accordingly.&#160;&#160;For&#160;&#160;each&#160;&#160;Core&#160;&#160;the&#160;&#160;XCP&#160;&#160;is&#160;&#160;used&#160;&#160;on&#160;&#160;the&#160;<br/>following&#160;&#160;Container&#160;&#160;must&#160;&#160;be&#160;&#160;created:&#160;&#160;/MICROSAR/Xcp/XcpConfig/XcpCoreDefinition.&#160;&#160;The&#160;<br/>correct&#160;&#160;Core&#160;&#160;Definition&#160;&#160;must&#160;&#160;be&#160;&#160;referenced&#160;&#160;for&#160;&#160;each&#160;&#160;configured&#160;&#160;Event&#160;&#160;Channel:&#160;<br/>/MICROSAR/Xcp/XcpConfig/XcpEventChannel/XcpEventChannelCoreRef.&#160;&#160;An&#160;&#160;Event&#160;&#160;Channel&#160;<br/>can&#160;only&#160;be&#160;called&#160;on&#160;the&#160;Core it&#160;is configured&#160;for;&#160;otherwise&#160;a&#160;DET&#160;error is thrown.&#160;<br/>The&#160;&#160;following&#160;&#160;picture&#160;&#160;shows&#160;&#160;the&#160;&#160;architecture&#160;&#160;behind&#160;&#160;the&#160;&#160;Multi&#160;&#160;Core&#160;&#160;support&#160;&#160;and&#160;&#160;the&#160;&#160;way&#160;<br/>the&#160;Xcp_Event&#160;function&#160;is called&#160;on&#160;each&#160;Core:&#160;<br/>
<b>&#160;act&#160;Activ&#160;ity</b><br/>
OsTask<br/>
OsTask&#160;BSW<br/>
Application<br/>
OsTask<br/>
Core<br/>
Core<br/>
Utility&#160;Core<br/>
<b>Calculation&#160;of&#160;Application&#160;</b><br/>
<b>Data</b><br/>
<b>Calculation&#160;of&#160;Utility&#160;Data</b><br/>
<b>Collecting&#160;Data&#160;</b><br/>
«datastore»<br/>
<b>Xcp_Ev&#160;ent(5ms_ApplicationCore)</b><br/>
<b>Lock&#160;free&#160;Core&#160;<br/>Specific&#160;Queue</b><br/>
<b>Xcp_MainFunction&#160;(Trigger&#160;</b><br/>
<b>Sequential&#160;Transmission)</b><br/>
ActivityFinal<br/>
<b>Collecting&#160;Data&#160;</b><br/>
«datastore»<br/>
<b>Xcp_Ev&#160;ent(5ms_UtilityCore)</b><br/>
<b>Lock&#160;free&#160;Core&#160;<br/>Specific&#160;Queue</b><br/>
ActivityFinal<br/>
ActivityFinal<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
27&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=28></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-28_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-28_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Figure&#160;3-3&#160;&#160;Application&#160;of&#160;Xcp_Event&#160;function&#160;on&#160;Multi&#160;Core&#160;systems&#160;<br/>
<b>3.17&#160;&#160;En-&#160;/&#160;Disabling the&#160;XCP&#160;module&#160;</b><br/>
The&#160;macro&#160;XCP_ACTIVATE/XCP_DEACTIVATE&#160;can&#160;be&#160;used&#160;to&#160;en-&#160;or&#160;disable&#160;the&#160;XCP&#160;module&#160;<br/>during&#160;&#160;run&#160;&#160;time.&#160;&#160;Thus&#160;&#160;the&#160;&#160;XCP&#160;&#160;functionality&#160;&#160;can&#160;&#160;be&#160;&#160;controlled&#160;&#160;by&#160;&#160;the&#160;&#160;application.&#160;&#160;These&#160;<br/>macros&#160;control&#160;the&#160;protocol&#160;and&#160;transport&#160;layer&#160;together,&#160;i.e.&#160;enabling&#160;or&#160;disabling&#160;them&#160;as&#160;<br/>a&#160;whole.&#160;It&#160;is&#160;recommended&#160;to&#160;perform&#160;a&#160;Xcp_Disconnect()&#160;API&#160;call&#160;to&#160;bring&#160;the&#160;XCP&#160;in&#160;a&#160;<br/>save&#160;state&#160;before it&#160;is&#160;disabled.&#160;<br/>
<b>3.18&#160;&#160;XCP&#160;measurement&#160;during the&#160;post event&#160;time&#160;</b><br/>
In&#160;use&#160;cases&#160;where&#160;there&#160;is&#160;no&#160;further&#160;communication&#160;request&#160;except&#160;XCP&#160;measurement&#160;<br/>the&#160;session&#160;state&#160;of&#160;the&#160;XCP&#160;can&#160;be&#160;determined&#160;to&#160;prevent&#160;an&#160;early&#160;shutdown&#160;of&#160;the&#160;ECU.&#160;<br/>For this purpose&#160;the&#160;following&#160;API&#160;exist:&#160;<br/>
•&#160;&#160;<a href="TechnicalReference_XCPs.html#42">5.2.13&#160;Xcp_GetSessionStatus&#160;</a><br/>
An&#160;example&#160;implementation&#160;that&#160;is called&#160;cyclically&#160;could&#160;look like&#160;the&#160;following&#160;example:&#160;<br/>
<b>Example&#160;<br/></b>{&#160;<br/>
&#160;<br/>
&#160;&#160;uint16&#160;sessionState;&#160;<br/>&#160;<br/>&#160;&#160;sessionState = Xcp_GetSessionStatus();&#160;<br/>&#160;&#160;if( 0&#160;!= (sessionState &amp;&#160;XCP_SESSION_CONNECTED) )&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;/* Is the xcp actively used?&#160;*/&#160;<br/>&#160; &#160;&#160;if( 0 != (sessionState &amp; (XCP_SESSION_DAQ&#160;|&#160;XCP_SESSION_POLLING)) )&#160;<br/>&#160; &#160;&#160;{&#160;<br/>&#160; &#160; &#160;&#160;/* Yes, reload timer */&#160;<br/>&#160; &#160; &#160;&#160;swTimer = XCPAPPL_TIMEOUT_TIMER_RELOAD;&#160;<br/>&#160; &#160;&#160;}&#160;<br/>&#160;&#160;}&#160;<br/>&#160;<br/>&#160;&#160;if( swTimer &gt; 0 )&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;/* No timeout so far */&#160;<br/>&#160; &#160;&#160;swTimer--;&#160;<br/>&#160;&#160;}&#160;<br/>&#160;&#160;else&#160;<br/>&#160;&#160;{&#160;<br/>&#160; &#160;&#160;/* Timer timeout happened, release xcp communication request */&#160;<br/>&#160;&#160;}&#160;<br/>}&#160;<br/>
&#160;<br/>
&#160;<br/>
Please&#160;&#160;note&#160;&#160;that&#160;&#160;polling&#160;&#160;requests&#160;&#160;may&#160;&#160;happen&#160;erratically.&#160;Therefore&#160;&#160;it&#160;&#160;is&#160;&#160;important&#160;&#160;not&#160;&#160;to&#160;<br/>choose&#160;the&#160;timeout&#160;value&#160;XCP_TIMEOUT_TIMER_RELOAD&#160;too&#160;small.&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
28&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=29></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-29_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>3.19&#160;&#160;Error&#160;Handling&#160;</b><br/>
<b>3.19.1&#160;&#160;Development&#160;Error&#160;Reporting&#160;<br/></b>By&#160;&#160;default,&#160;&#160;development&#160;&#160;errors&#160;&#160;are&#160;&#160;reported&#160;&#160;to&#160;&#160;the&#160;&#160;DET&#160;&#160;using&#160;&#160;the&#160;&#160;service&#160;<br/>Det_ReportError()&#160;&#160;as&#160;&#160;specified&#160;&#160;in&#160;&#160;[2],&#160;&#160;if&#160;&#160;development&#160;&#160;error&#160;&#160;reporting&#160;&#160;is&#160;&#160;enabled:&#160;<br/>/MICROSAR/Xcp/XcpGeneral/XcpDevErrorDetect.&#160;<br/>
If&#160;&#160;another&#160;&#160;module&#160;&#160;is&#160;&#160;used&#160;&#160;for&#160;&#160;development&#160;&#160;error&#160;&#160;reporting,&#160;&#160;the&#160;&#160;function&#160;&#160;prototype&#160;&#160;for&#160;<br/>reporting&#160;the&#160;error&#160;can&#160;be&#160;configured&#160;by&#160;the&#160;integrator,&#160;but&#160;must&#160;have&#160;the&#160;same&#160;signature&#160;<br/>as the&#160;service&#160;Det_ReportError().&#160;<br/>The&#160;reported&#160;XCP&#160;ID is&#160;212.&#160;<br/>The&#160;&#160;reported&#160;&#160;service&#160;&#160;IDs&#160;&#160;identify&#160;&#160;the&#160;&#160;services&#160;&#160;which&#160;&#160;are&#160;&#160;described&#160;&#160;<a href="TechnicalReference_XCPs.html#35">in&#160;&#160;5.2.&#160;&#160;</a>The&#160;&#160;following&#160;<br/>table&#160;presents&#160;the&#160;service&#160;IDs and&#160;the&#160;related&#160;services:&#160;<br/>
<b>Service&#160;ID&#160;</b><br/>
<b>Service&#160;</b><br/>
0x00&#160;<br/>
Xcp_Init&#160;<br/>
0x03&#160;<br/>
Xcp_SendEvent&#160;<br/>
0x04&#160;<br/>
Xcp_PutChar&#160;<br/>
0x05&#160;<br/>
Xcp_Print&#160;<br/>
0x06&#160;<br/>
Xcp_Disconnect&#160;<br/>
0x07&#160;<br/>
Xcp_SendCrm&#160;<br/>
0x08&#160;<br/>
Xcp_GetXcpDataPointer&#160;<br/>
0x0A&#160;<br/>
Xcp_GetVersionInfo&#160;<br/>
0x0B&#160;<br/>
Xcp_TlRxIndication&#160;<br/>
0x0C&#160;<br/>
Xcp_TlTxConfirmation&#160;<br/>
0x0E&#160;<br/>
Xcp_GetSessionStatus&#160;<br/>
0x0F&#160;<br/>
Xcp_SetActiveTl&#160;<br/>
0x10&#160;<br/>
Xcp_GetActiveTl&#160;<br/>
0x11&#160;<br/>
Xcp_SetStimMode&#160;<br/>
0x14&#160;<br/>
Xcp_ModifyProtectionStatus&#160;<br/>
0xC8&#160;<br/>
Xcp_MainFunction&#160;<br/>
0xC9&#160;<br/>
Xcp_Event&#160;<br/>
0xFD&#160;<br/>
Xcp_StimEventStatus&#160;<br/>
Table&#160;3-7&#160;&#160;&#160;Service&#160;IDs&#160;<br/>
The&#160;errors reported&#160;to&#160;DET&#160;are&#160;described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x0A&#160;<br/>
API&#160;service&#160;Xcp_Init()&#160;called&#160;with wrong&#160;parameter.&#160;<br/>
0x0B&#160;<br/>
API&#160;service used&#160;with an&#160;invalid channel&#160;identifier&#160;or&#160;channel&#160;was not&#160;configured&#160;<br/>for&#160;the&#160;functionality&#160;of&#160;the calling&#160;API.&#160;<br/>
0x0C&#160;<br/>
API&#160;service used&#160;with an&#160;invalid event&#160;channel&#160;identifier&#160;or&#160;event&#160;channel&#160;was&#160;<br/>not&#160;configured&#160;for&#160;the&#160;functionality&#160;of&#160;the&#160;calling&#160;API.&#160;<br/>
0x0D&#160;<br/>
API&#160;service used&#160;with invalid pointer&#160;parameter&#160;(NULL).&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
29&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=30></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-30_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
0x0E&#160;<br/>
API&#160;service used&#160;with an&#160;invalid channel&#160;identifier&#160;or&#160;channel&#160;was not&#160;configured&#160;<br/>for&#160;the&#160;functionality&#160;of&#160;the calling&#160;API.&#160;<br/>
0x10&#160;<br/>
API&#160;service used&#160;without&#160;module initialization.&#160;<br/>
0x11&#160;<br/>
The&#160;service&#160;Xcp_Init()&#160;is&#160;called&#160;while the&#160;module&#160;is&#160;already&#160;initialized.&#160;<br/>
0x12&#160;<br/>
The&#160;service&#160;Xcp_Event()&#160;is&#160;called&#160;with a&#160;wrong channel&#160;id on&#160;a&#160;wrong&#160;core.&#160;<br/>
Table&#160;3-8&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DET&#160;<br/>
&#160;<br/>
<b>3.19.2&#160;&#160;Production Code&#160;Error Reporting&#160;<br/></b>The&#160;errors reported&#160;to&#160;DEM are described&#160;in&#160;the&#160;following&#160;table:&#160;<br/>
<b>Error&#160;Code&#160;</b><br/>
<b>Description&#160;</b><br/>
-&#160;<br/>
No production&#160;errors&#160;are&#160;reported&#160;by&#160;the&#160;XCP.&#160;<br/>
Table&#160;3-9&#160;&#160;&#160;Errors&#160;reported&#160;to&#160;DEM&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
30&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=31></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-31_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>4&#160;&#160;Integration&#160;</b><br/>
This&#160;chapter&#160;gives&#160;necessary&#160;information&#160;for&#160;the&#160;integration&#160;of&#160;&#160;the&#160;MICROSAR&#160;&#160;XCP&#160;&#160;into&#160;<br/>an&#160;application&#160;environment&#160;of&#160;an&#160;ECU.&#160;<br/>
<b>4.1&#160;</b><br/>
<b>Scope&#160;of&#160;Delivery&#160;</b><br/>
The&#160;delivery&#160;of&#160;the&#160;&#160;XCP&#160;contains&#160;the&#160;files&#160;which&#160;are&#160;described&#160;in&#160;the&#160;chapters<a href="TechnicalReference_XCPs.html#31">&#160;&#160;4.1.1&#160;</a>and&#160;<br/><a href="TechnicalReference_XCPs.html#31">4.1.3:</a>&#160;<br/>
<b>4.1.1&#160;</b><br/>
<b>Static&#160;Files&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Xcp.c&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file of&#160;the&#160;XCP.&#160;It&#160;contains&#160;the&#160;XCP&#160;protocol&#160;layer.&#160;<br/>
Xcp.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file.&#160;It&#160;contains&#160;global&#160;declarations.&#160;<br/>
Xcp_Priv.h&#160;<br/>
This&#160;is&#160;the&#160;private&#160;header&#160;file.&#160;It&#160;contains&#160;declarations&#160;only&#160;relevant&#160;for&#160;the&#160;XCP&#160;<br/>itself.&#160;<br/>
Xcp_Types.h&#160;&#160;This&#160;is&#160;the&#160;type&#160;definition&#160;header&#160;file.&#160;It&#160;contains&#160;type&#160;definitions&#160;used&#160;by&#160;the XCP.&#160;<br/>
Table&#160;4-1&#160;&#160;&#160;Static&#160;files&#160;<br/>
<b>4.1.2&#160;</b><br/>
<b>Templates&#160;–&#160;user modifiable&#160;</b><br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
XcpAppl.c&#160;<br/>
This&#160;is&#160;the&#160;source&#160;file of&#160;the&#160;application call-back.&#160;This&#160;file usually&#160;must&#160;be&#160;<br/>modified&#160;by&#160;the&#160;user&#160;to his&#160;needs.&#160;<br/>
XcpAppl.h&#160;<br/>
This&#160;is&#160;the&#160;header&#160;file of&#160;the&#160;application call-backs.&#160;It&#160;contains&#160;global&#160;declarations.&#160;<br/>
Table&#160;4-2&#160;&#160;&#160;Templates&#160;<br/>
<b>4.1.3&#160;</b><br/>
<b>Dynamic&#160;Files&#160;</b><br/>
The&#160;dynamic&#160;files are&#160;generated&#160;by&#160;the&#160;configuration&#160;tool.&#160;<br/>
<b>File&#160;Name&#160;</b><br/>
<b>Description&#160;</b><br/>
Xcp_Cfg.h&#160;<br/>
XCP&#160;Protocol&#160;Layer&#160;configuration&#160;file.&#160;<br/>
Xcp_Lcfg.c&#160;<br/>
Parameter&#160;definition&#160;for&#160;the&#160;XCP&#160;Protocol&#160;Layer.&#160;<br/>
Xcp_Lcfg.h&#160;<br/>
External&#160;declarations&#160;for&#160;the&#160;parameters.&#160;<br/>
Table&#160;4-3&#160;&#160;&#160;Generated&#160;files&#160;<br/>
<b>4.1.4&#160;</b><br/>
<b>Generated&#160;a2l&#160;files&#160;</b><br/>
The&#160;GenTool&#160;also&#160;generates&#160;multiple&#160;a2l files&#160;which&#160;can&#160;be&#160;used&#160;in&#160;the&#160;MCS&#160;tool for easier&#160;<br/>integration.&#160;The&#160;following&#160;files&#160;are generated:&#160;<br/>
•&#160;&#160;XCP.a2l&#160;(general protocol layer settings)&#160;<br/>•&#160;&#160;XCP_daq.a2l&#160;(DAQ&#160;specific settings)&#160;<br/>•&#160;&#160;XCP_events.a2l&#160;(DAQ&#160;event&#160;info)&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
31&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=32></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-32_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-32_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
•&#160;&#160;XCP_Checksum.a2l (Checksum&#160;information)&#160;<br/>
&#160;<br/>
<b>Example&#160;Master.a2l:&#160;<br/>&#160;</b><br/>
&#160;<br/>
...&#160;<br/>/begin IF_DATA XCP&#160;<br/>&#160;&#160;/include XCP.a2l&#160;<br/>&#160;&#160;<b>/begin DAQ&#160;<br/>&#160; &#160;&#160;/include XCP_daq.a2l&#160;<br/>&#160; &#160;&#160;/include&#160;XCP_events.a2l&#160;<br/>&#160; &#160;&#160;/include&#160;XCP_checksum.a2l&#160;<br/>&#160; &#160;&#160;...&#160;<br/>&#160;&#160;/end DAQ&#160;<br/></b>&#160;&#160;/include CanXCPAsr.a2l&#160;<br/>/end IF_DATA&#160;<br/>...&#160;<br/>/include bsw.a2l&#160;<br/>...<b>&#160;<br/>&#160;<br/></b>&#160;<br/>
&#160;<br/>
&#160;<br/>
<b>4.2&#160;</b><br/>
<b>Critical&#160;Sections&#160;</b><br/>
The&#160;XCP&#160;protocol&#160;layer&#160;makes&#160;use&#160;of&#160;three&#160;critical&#160;sections&#160;in&#160;&#160;order&#160;to&#160;protect&#160;functions&#160;<br/>that&#160;are not&#160;re-entrant.&#160;The&#160;following&#160;sections&#160;are used:&#160;<br/>
•&#160;&#160;XCP_EXCLUSIVE_AREA_0&#160;<br/>•&#160;&#160;XCP_EXCLUSIVE_AREA_1&#160;<br/>•&#160;&#160;XCP_EXCLUSIVE_AREA_2&#160;<br/>
The&#160;individual&#160;exclusive&#160;areas&#160;must&#160;not&#160;be&#160;allowed&#160;to&#160;interrupt&#160;each&#160;other.&#160;The&#160;areas&#160;are&#160;<br/>used&#160;for the&#160;following&#160;cases:&#160;<br/>
<b>4.2.1&#160;</b><br/>
<b>XCP_EXCLUSIVE_AREA_0&#160;</b><br/>
This&#160;exclusive&#160;area&#160;is&#160;used&#160;to&#160;protect&#160;non-reentrant&#160;functions.&#160;This&#160;critical&#160;section&#160;covers&#160;<br/>calls to&#160;several sub-functions and&#160;can&#160;have&#160;a&#160;long&#160;run-time.&#160;<br/>
<b>4.2.2&#160;</b><br/>
<b>XCP_EXCLUSIVE_AREA_1&#160;</b><br/>
This&#160;exclusive&#160;area&#160;is&#160;used&#160;by&#160;Xcp_Event&#160;during&#160;DAQ&#160;measurement.&#160;It&#160;is&#160;used&#160;to&#160;provide&#160;<br/>data&#160;integrity&#160;on&#160;ODT&#160;level&#160;and&#160;its&#160;duration&#160;is&#160;dependent&#160;on&#160;the&#160;MAX_DTO&#160;parameter,&#160;i.e.&#160;<br/>can&#160;be&#160;short on&#160;CAN and&#160;long&#160;on&#160;Ethernet.&#160;<br/>
<b>4.2.3&#160;</b><br/>
<b>XCP_EXCLUSIVE_AREA_2&#160;</b><br/>
This&#160;exclusive&#160;area&#160;is&#160;used&#160;by&#160;Xcp_Event&#160;during&#160;STIM&#160;measurement.&#160;It&#160;is&#160;used&#160;to&#160;provide&#160;<br/>data&#160;integrity&#160;on&#160;ODT&#160;level&#160;and&#160;its&#160;duration&#160;is&#160;dependent&#160;on&#160;the&#160;MAX_DTO&#160;parameter,&#160;i.e.&#160;<br/>can&#160;be&#160;short on&#160;CAN and&#160;long&#160;on&#160;Ethernet.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
32&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=33></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-33_1.png"/><br/>
<img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-33_2.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>4.3&#160;</b><br/>
<b>Memory&#160;Mapping&#160;</b><br/>
The&#160;XCP&#160;has requirements&#160;regarding&#160;memory&#160;mapping&#160;to&#160;avoid&#160;misaligned&#160;memory&#160;<br/>access.&#160;The&#160;following&#160;section:&#160;XCP_START_SEC_VAR_NOCACHE_NOINIT_32BIT&#160;must&#160;be&#160;mapped&#160;to&#160;a&#160;<br/>32Bit section&#160;in&#160;order to&#160;guarantee&#160;correct&#160;alignment.&#160;<br/>&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;<br/>Caution&#160;<br/></b>If&#160;this&#160;section&#160;is&#160;not&#160;mapped accordingly,&#160;a&#160;trap&#160;will&#160;happen&#160;on&#160;architectures that&#160;do&#160;not&#160;<br/>
<b>&#160;&#160;</b>support&#160;misaligned&#160;access,&#160;e.g.&#160;TriCore.&#160;<br/>
<b>&#160;</b><br/>
<b>&#160;</b><br/>
&#160;<br/>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
33&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=34></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-34_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5&#160;&#160;API&#160;Description&#160;</b><br/>
For an&#160;interfaces overview&#160;please&#160;see<a href="TechnicalReference_XCPs.html#12">&#160;Figure&#160;2-2.</a>&#160;<br/>
<b>5.1&#160;</b><br/>
<b>Type&#160;Definitions&#160;</b><br/>
The&#160;types defined&#160;by&#160;the&#160;XCP&#160;are described&#160;in&#160;this chapter.&#160;<br/>
<b>Type&#160;Name&#160;</b><br/>
<b>C-Type&#160;&#160;Description&#160;</b><br/>
Xcp_TimestampType&#160;<br/>
c-type&#160;<br/>
This&#160;is&#160;a&#160;type&#160;used&#160;for&#160;timestamp&#160;values.&#160;Its&#160;size&#160;is&#160;depending&#160;<br/>
&#160;<br/>
on&#160;the&#160;configuration in&#160;the tool&#160;and&#160;can&#160;be&#160;uint8,&#160;uint16&#160;or&#160;<br/>uint32.&#160;<br/>
Table&#160;5-1&#160;&#160;&#160;Type&#160;definitions&#160;<br/>
<b>Xcp_ChannelStruct&#160;</b><br/>
<b>Struct&#160;Element&#160;Name&#160;&#160;C-Type&#160;&#160;Description&#160;</b><br/>
Xcp_ChannelStruct&#160;<br/>
c-type&#160;<br/>
This&#160;is&#160;a complex&#160;structure containing&#160;all&#160;the&#160;configuration&#160;<br/>
&#160;<br/>
data of&#160;the&#160;XCP.&#160;This&#160;structure&#160;needs&#160;to&#160;be&#160;stored in&#160;NVM&#160;for&#160;<br/>resume&#160;mode.&#160;<br/>
Table&#160;5-2&#160;&#160;&#160;Xcp_ChannelStruct&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
34&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=35></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-35_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.2&#160;</b><br/>
<b>Services&#160;provided by&#160;XCP&#160;</b><br/>
<b>5.2.1&#160;</b><br/>
<b>Xcp_InitMemory&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_InitMemory</b>&#160;(&#160;void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
This&#160;service initializes&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;memory.&#160;It&#160;must be called from&#160;the application program&#160;<br/>before any&#160;other&#160;XCP&#160;function&#160;is&#160;called.&#160;This&#160;is&#160;only&#160;required&#160;if&#160;the&#160;Startup&#160;Code&#160;does&#160;not&#160;initialize the&#160;<br/>memory&#160;with&#160;zero.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;global&#160;interrupts&#160;have to be&#160;disabled&#160;while this&#160;service&#160;function&#160;is&#160;executed.&#160;This&#160;function should&#160;be&#160;<br/>
called during initialization of&#160;the&#160;ECU&#160;before the interrupts&#160;have&#160;been enabled.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and interrupt&#160;level&#160;<br/>
Table&#160;5-3&#160;&#160;&#160;Xcp_InitMemory&#160;<br/>
<b>5.2.2&#160;</b><br/>
<b>Xcp_Init&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_Init</b>&#160;(&#160;void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service initializes&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;and its&#160;internal&#160;variables. It must be called&#160;from&#160;the&#160;<br/>application&#160;program&#160;before any&#160;other XCP&#160;function&#160;is&#160;called&#160;(except of&#160;Xcp_InitMemory).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
4&#160;&#160;&#160;Xcp_Init&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
35&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=36></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-36_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.2.3&#160;</b><br/>
<b>Xcp_Event&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Xcp_Event</b>&#160;(&#160;uint16&#160;EventChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
EventChannel&#160;<br/>
Number&#160;of&#160;event channels&#160;to process.&#160;<br/>The&#160;event channel&#160;numbers&#160;have to start at&#160;0 and have to&#160;be&#160;continuous.&#160;The&#160;<br/>range&#160;is: 0..x&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_EVENT_NOP&#160;: Inactive (DAQ&#160;not running,&#160;Event&#160;not configured)&#160;<br/>XCP_EVENT_DAQ&#160;: DAQ&#160;active */&#160;<br/>XCP_EVENT_DAQ_OVERRUN : DAQ&#160;queue overflow, data lost&#160;<br/>XCP_EVENT_STIM&#160;: STIM&#160;active&#160;<br/>XCP_EVENT_STIM_OVERRUN&#160;:&#160;STIM&#160;data not available&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Calling&#160;Xcp_Event&#160;with&#160;a&#160;particular event&#160;channel&#160;number&#160;triggers&#160;the sampling&#160;and transmission&#160;of&#160;all&#160;<br/>DAQ&#160;lists&#160;that&#160;are&#160;assigned&#160;to&#160;this&#160;event channel.&#160;<br/>The&#160;event channels&#160;are&#160;defined by&#160;the ECU developer&#160;in the&#160;application&#160;program.&#160;An&#160;MCS&#160;(e.g.&#160;CANape)&#160;<br/>must&#160;know&#160;about the meaning&#160;of&#160;the&#160;event&#160;channel&#160;numbers.&#160;These are usually&#160;described&#160;in the&#160;tool&#160;<br/>configuration&#160;files&#160;or in the&#160;interface specific&#160;part of&#160;the&#160;ASAM&#160;MC2&#160;(ASAP2) database.&#160;<br/>Example:&#160;<br/>A&#160;motor&#160;control&#160;unit may&#160;have&#160;a 10ms, a&#160;100ms&#160;and a&#160;crank&#160;synchronous&#160;event channel.&#160;In&#160;this&#160;case,&#160;the&#160;<br/>three&#160;Xcp_Event&#160;calls&#160;have to&#160;be&#160;placed at&#160;the&#160;appropriate&#160;locations&#160;in the ECU’s&#160;program:&#160;<br/>Xcp_Event (XcpConf_XcpEventChannel_10ms); /* 10ms cycle */&#160;<br/>xcp_Event (XcpConf_XcpEventChannel_100ms); /* 100ms cycle */&#160;<br/>xcp_Event (XcpConf_XcpEventChannel_Crank); /* Crank synchronous cycle */&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant&#160;(for different Event Channel).&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;acquisition&#160;has&#160;to&#160;be&#160;enabled&#160;&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and interrupt&#160;level&#160;<br/>
Table&#160;5-5&#160;&#160;&#160;Xcp_Event&#160;<br/>
<b>5.2.4&#160;</b><br/>
<b>Xcp_StimEventStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Xcp_StimEventStatus</b>&#160;( uint16&#160;EventChannel, uint8 Action&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
EventChannel&#160;<br/>
Event channel&#160;number.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
36&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=37></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-37_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Action&#160;<br/>
STIM_CHECK_ODT_BUFFER&#160;: check&#160;ODT&#160;buffer&#160;<br/>STIM_RESET_ODT_BUFFER&#160;: reset&#160;ODT&#160;buffer&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_NO_STIM_DATA_AVAILABLE&#160;: stimulation&#160;data not&#160;available&#160;<br/>XCP_STIM_DATA_AVAILABLE&#160;: new stimulation data&#160;is&#160;available&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Check&#160;if&#160;data&#160;stimulation&#160;(STIM) event can perform&#160;or&#160;delete&#160;the&#160;buffers.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;acquisition&#160;has&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpSynchronousDataStimulation&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and interrupt&#160;level&#160;<br/>
Table&#160;5-6&#160;&#160;&#160;Xcp_StimEventStatus&#160;<br/>
<b>5.2.5&#160;</b><br/>
<b>Xcp_MainFunction&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_MainFunction</b>&#160;( void&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>If&#160;the XCP&#160;command for the calculation&#160;of&#160;the memory&#160;checksum&#160;has&#160;to&#160;be&#160;used&#160;for large memory&#160;areas, it&#160;<br/>might not&#160;be appropriate&#160;to&#160;block&#160;the processor for a long&#160;period of&#160;time.&#160;Therefore, the checksum&#160;<br/>calculation is&#160;divided&#160;into&#160;smaller sections&#160;that&#160;are&#160;handled&#160;in&#160;the&#160;Xcp_MainFunction.&#160;<br/>Additionally, the&#160;main function&#160;handles&#160;persisting requests.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-7&#160;&#160;&#160;Xcp_MainFunction&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
37&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=38></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-38_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
&#160;<br/>
<b>5.2.6&#160;</b><br/>
<b>Xcp_SendEvent&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_SendEvent&#160;</b>(&#160;Xcp_ChannelType XcpChannel, uint8 EventCode, uint8&#160;<br/>*EventData, uint8&#160;Length&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
EventCode&#160;<br/>
The&#160;event code of&#160;the message to&#160;send.&#160;<br/>
EventData&#160;<br/>
A&#160;pointer&#160;to the string of&#160;the&#160;event to send.&#160;<br/>
Length&#160;<br/>
The&#160;length of&#160;the&#160;event data.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Transmission&#160;of&#160;event codes&#160;via&#160;event&#160;packets&#160;(EV).&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
<b>&gt;&#160;&#160;</b>Event Codes&#160;has&#160;to&#160;be&#160;enabled:&#160;/MICROSAR/Xcp/XcpCmdConfig/XcpAsynchMessage/XcpEventCodes&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-8&#160;&#160;&#160;Xcp_SendEvent&#160;<br/>
<b>5.2.7&#160;</b><br/>
<b>Xcp_PutChar&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_PutChar</b>&#160;(&#160;Xcp_ChannelType&#160;XcpChannel,&#160;uint8&#160;*Character&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Character&#160;<br/>
The&#160;char&#160;to&#160;send.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Put&#160;a char&#160;into&#160;a&#160;service request packet&#160;(SERV).&#160;<br/>The&#160;service request packet&#160;is&#160;transmitted if&#160;either&#160;the&#160;maximum&#160;packet&#160;length&#160;is&#160;reached&#160;(the&#160;service&#160;<br/>request message packet&#160;is&#160;full)&#160;or the character&#160;0x00&#160;is&#160;in the service request packet.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
38&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=39></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-39_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
<b>&gt;&#160;&#160;</b>Service Request Message&#160;has&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpAsynchMessage/XcpServiceRequestMessage&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-9&#160;&#160;&#160;Xcp_PutChar&#160;<br/>
<b>5.2.8&#160;</b><br/>
<b>Xcp_Print&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_Print</b>&#160;(&#160;Xcp_ChannelType&#160;XcpChannel,&#160;uint8&#160;*Str&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Str&#160;<br/>
The&#160;0&#160;terminated&#160;string&#160;to send.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Transmission&#160;of&#160;a&#160;service request&#160;packet&#160;(SERV).&#160;<br/>The&#160;string&#160;str&#160;is&#160;sent&#160;via&#160;service request packets.&#160;The&#160;string&#160;has&#160;to&#160;be&#160;terminated&#160;by&#160;0x00.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
<b>&gt;&#160;&#160;</b>Service Request Message&#160;has&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpAsynchMessage/XcpServiceRequestMessage&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-10&#160;&#160;&#160;Xcp_Print&#160;<br/>
<b>5.2.9&#160;</b><br/>
<b>Xcp_Disconnect&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_Disconnect</b>&#160;(&#160;Xcp_ChannelType XcpChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
39&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=40></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-40_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>If&#160;the XCP&#160;slave&#160;is&#160;connected&#160;to&#160;a&#160;XCP&#160;master a call&#160;of&#160;this&#160;function&#160;discontinues&#160;the&#160;connection&#160;(transition&#160;<br/>to&#160;disconnected state). If&#160;the XCP&#160;slave&#160;is&#160;not&#160;connected&#160;this&#160;function performs&#160;no action.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly&#160;and XCP&#160;is&#160;in&#160;connected&#160;state.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-11&#160;&#160;&#160;Xcp_Disconnect&#160;<br/>
<b>5.2.10&#160;&#160;Xcp_SendCrm&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_SendCrm</b>&#160;(&#160;Xcp_ChannelType&#160;XcpChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Transmission&#160;of&#160;a&#160;command response&#160;packet&#160;(RES),&#160;or error packet&#160;(ERR)&#160;if&#160;no&#160;other packet&#160;is&#160;pending.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;been&#160;initialized&#160;correctly,&#160;XCP&#160;is&#160;in connected&#160;state and&#160;a&#160;command&#160;<br/>
packet&#160;(CMD)&#160;has&#160;been&#160;received.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-12&#160;&#160;&#160;Xcp_SendCrm&#160;<br/>
<b>5.2.11&#160;&#160;Xcp_GetVersionInfo&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_GetVersionInfo</b>&#160;( Std_VersionInfoType *versionInfo&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
versionInfo&#160;<br/>
Pointer&#160;to the location&#160;where&#160;the&#160;Version&#160;information&#160;shall&#160;be stored.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
40&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=41></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-41_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Xcp_GetVersionInfo()&#160;returns&#160;version&#160;information, vendor&#160;ID and&#160;AUTOSAR module&#160;ID of&#160;the&#160;component.&#160;<br/>The&#160;versions&#160;are BCD-coded.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service&#160;ID:&#160;see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;version info&#160;API&#160;has&#160;to be&#160;enabled:&#160;/MICROSAR/Xcp/XcpGeneral/XcpVersionInfoApi&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-13&#160;&#160;&#160;Xcp_GetVersionInfo&#160;<br/>
<b>5.2.12&#160;&#160;Xcp_ModifyProtectionStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_ModifyProtectionStatus</b>&#160;(&#160;Xcp_ChannelType XcpChannel, uint8 AndState,&#160;<br/>uint8 OrState&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
AndState&#160;<br/>
The&#160;following&#160;flags:&#160;XCP_RM_CAL_PAG,&#160;XCP_RM_DAQ,&#160;XCP_RM_STIM&#160;<br/>and&#160;XCP_RM_PGM can&#160;be&#160;used&#160;to clear the&#160;protection state&#160;of&#160;the respective&#160;<br/>resource.&#160;The&#160;modified&#160;state is&#160;persistent&#160;until&#160;Xcp_Init.&#160;<br/>
OrState&#160;<br/>
The&#160;following&#160;flags:&#160;XCP_RM_CAL_PAG,&#160;XCP_RM_DAQ,&#160;XCP_RM_STIM&#160;<br/>and&#160;XCP_RM_PGM can&#160;be&#160;used&#160;to set&#160;the&#160;protection&#160;state of&#160;the respective&#160;<br/>resource.&#160;The&#160;modified&#160;state is&#160;persistent&#160;until&#160;Xcp_Init.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;method&#160;can&#160;be&#160;used to enable or&#160;disable&#160;the&#160;protection&#160;state&#160;of&#160;an&#160;individual&#160;resource during&#160;runtime.&#160;<br/>The&#160;newly&#160;set&#160;protection&#160;state&#160;is&#160;persistent&#160;until&#160;the next call&#160;of&#160;the Xcp_Init function&#160;where all&#160;flags&#160;are set&#160;<br/>again.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>Seed&amp;Key&#160;has&#160;to&#160;be&#160;enabled:&#160;/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpSeedKey&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-14&#160;&#160;&#160;Xcp_ModifyProtectionStatus&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
41&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=42></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-42_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
&#160;<br/>
<b>5.2.13&#160;&#160;Xcp_GetSessionStatus&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint16&#160;<b>Xcp_GetSessionStatus</b>&#160;(&#160;Xcp_ChannelType XcpChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint16&#160;<br/>
The&#160;function&#160;returns&#160;a&#160;bit mask&#160;with&#160;the&#160;following&#160;flags:&#160;<br/>XCP_SESSION_CONNECTED:&#160;The&#160;XCP&#160;is&#160;in&#160;state connected.&#160;<br/>XCP_SESSION_POLLING:&#160;A&#160;polling measurement is&#160;ongoing.&#160;<br/>XCP_SESSION_DAQ:&#160;A&#160;DAQ&#160;measurement is&#160;active.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service can&#160;be&#160;used to&#160;get the&#160;session state of&#160;the&#160;XCP&#160;Protocol&#160;Layer.&#160;The&#160;session&#160;state is&#160;returned&#160;<br/>as&#160;a&#160;bit mask&#160;where the&#160;individual&#160;bits&#160;can be&#160;tested.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>Session&#160;Status&#160;API&#160;has&#160;to&#160;be&#160;enabled:&#160;/MICROSAR/Xcp/XcpGeneral/XcpSessionStatusAPI&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-15&#160;&#160;&#160;Xcp_GetSessionStatus&#160;<br/>
<b>5.2.14&#160;&#160;Xcp_GetXcpDataPointer&#160;</b><br/>
<b>Prototype&#160;<br/></b>uint16&#160;<b>Xcp_GetXcpDataPointer</b>&#160;(&#160;Xcp_ChannelStructPtr&#160;*&#160;pXcpData&#160;)&#160;<br/><b>Parameter&#160;</b><br/>
pXcpData&#160;<br/>
Pointer&#160;to XCP&#160;channel&#160;information.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service can&#160;be&#160;used to&#160;get the&#160;complete&#160;XCP&#160;data.&#160;This&#160;is&#160;required for&#160;flash programming&#160;with&#160;a&#160;flash&#160;<br/>kernel.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>Bootloader Download&#160;has&#160;to be&#160;enabled:&#160;/MICROSAR/Xcp/XcpGeneral/XcpBootloaderDownload&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
42&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=43></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-43_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-16&#160;&#160;&#160;Xcp_GetXcpDataPointer&#160;<br/>
<b>5.2.15&#160;&#160;Xcp_SetStimMode&#160;</b><br/>
<b>Prototype&#160;<br/></b>void&#160;<b>Xcp_SetStimMode</b>&#160;(&#160;uint8&#160;mode&#160;)&#160;<br/><b>Parameter&#160;</b><br/>
Mode&#160;<br/>
The&#160;STIM&#160;mode to select. This&#160;can&#160;either be&#160;<br/>XCP_STIM_SINGLE_SHOT_MODE:&#160;Valid&#160;STIM&#160;data&#160;is&#160;written&#160;a&#160;single time&#160;<br/>(default).&#160;<br/>XCP_STIM_CONTINUOUS_MODE:&#160;Valid STIM&#160;data&#160;is&#160;written continuously.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service is&#160;used to&#160;change the&#160;behavior of&#160;the Xcp_Event&#160;function&#160;when&#160;new&#160;STIM&#160;data&#160;is&#160;written.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>Data&#160;acquisition&#160;and&#160;STIM&#160;has&#160;to&#160;be&#160;enabled&#160;&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpSynchronousDataStim&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-17&#160;&#160;&#160;Xcp_SetStimMode&#160;<br/>
&#160;<br/>
<b>5.3&#160;</b><br/>
<b>Services&#160;provided by&#160;the&#160;XCP&#160;Protocol&#160;Layer and called by&#160;the&#160;XCP&#160;Transport&#160;<br/>Layer&#160;</b><br/>
&#160;<br/>
<b>5.3.1&#160;</b><br/>
<b>Xcp_TlRxIndication&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_TlRxIndication</b>&#160;(&#160;Xcp_ChannelType&#160;XcpChannel, unt8 *CmdPtr&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
CmdPtr&#160;<br/>
Pointer&#160;to the XCP&#160;protocol&#160;message,&#160;which must be extracted&#160;from&#160;the XCP&#160;<br/>protocol&#160;packet.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
43&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=44></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-44_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Every&#160;time the&#160;XCP&#160;Transport Layer receives&#160;a&#160;XCP&#160;CTO&#160;Packet&#160;this&#160;function&#160;has&#160;to&#160;be called.&#160;<br/>The&#160;parameter&#160;is&#160;a&#160;pointer&#160;to&#160;the XCP&#160;protocol&#160;message,&#160;which must be extracted from&#160;the XCP&#160;protocol&#160;<br/>packet.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-18&#160;&#160;&#160;Xcp_TlRxIndication&#160;<br/>
<b>5.3.2&#160;</b><br/>
<b>Xcp_TlTxConfirmation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>Xcp_TlTxConfirmation</b>&#160;(&#160;Xcp_ChannelType XcpChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>The&#160;XCP&#160;Protocol&#160;Layer&#160;does&#160;not call&#160;&lt;Bus&gt;Xcp_Send&#160;again,&#160;until&#160;Xcp_TlTxConfirmation&#160;has&#160;<br/>confirmed&#160;the successful&#160;transmission&#160;of&#160;the previous&#160;message.&#160;Xcp_TlTxConfirmation&#160;transmits&#160;<br/>pending data&#160;acquisition&#160;messages&#160;by&#160;calling&#160;&lt;Bus&gt;Xcp_Send&#160;again.&#160;&#160;<br/>Note&#160;that&#160;if&#160;Xcp_TlTxConfirmation&#160;is&#160;called&#160;from&#160;inside&#160;&lt;Bus&gt;Xcp_Send&#160;a recursion&#160;occurs, which&#160;<br/>assumes&#160;enough space&#160;on&#160;the&#160;call&#160;stack.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service&#160;ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-19&#160;&#160;&#160;Xcp_TlTxConfirmation&#160;<br/>
<b>5.3.3&#160;</b><br/>
<b>Xcp_SetActiveTl&#160;</b><br/>
<b>Prototype&#160;</b><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
44&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=45></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-45_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
void&#160;<b>Xcp_SetActiveTl</b>&#160;(&#160;Xcp_ChannelType XcpChannel, uint8 MaxCto, uint16 MaxDto,&#160;<br/>uint8 ActiveTl&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
MaxCto&#160;<br/>
Max&#160;CTO&#160;used&#160;by&#160;the&#160;respective XCP&#160;Transport Layer&#160;<br/>
MaxDto&#160;<br/>
Max&#160;DTO&#160;used&#160;by&#160;the&#160;respective XCP&#160;Transport Layer&#160;<br/>
ActiveTl&#160;<br/>
XCP_TRANSPORT_LAYER_CAN:&#160;XCP&#160;on&#160;CAN Transport Layer&#160;<br/>XCP_TRANSPORT_LAYER_FR:&#160;XCP&#160;on&#160;Fr&#160;Transport Layer&#160;<br/>XCP_TRANSPORT_LAYER_ETH:&#160;XCP&#160;on&#160;Ethernet Transport Layer&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service is&#160;used by&#160;the&#160;XCP&#160;Transport Layers&#160;to&#160;set the&#160;Transport Layer to be&#160;used&#160;by&#160;the&#160;XCP&#160;<br/>Protocol&#160;Layer&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-20&#160;&#160;&#160;Xcp_SetActiveTl&#160;<br/>
<b>5.3.4&#160;</b><br/>
<b>Xcp_GetActiveTl&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>Xcp_GetActiveTl</b>&#160;(&#160;Xcp_ChannelType XcpChannel&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_TRANSPORT_LAYER_CAN:&#160;XCP&#160;on&#160;CAN Transport Layer&#160;<br/>XCP_TRANSPORT_LAYER_FR:&#160;XCP&#160;on&#160;Fr&#160;Transport Layer&#160;<br/>XCP_TRANSPORT_LAYER_ETH:&#160;XCP&#160;on&#160;Ethernet Transport Layer&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;service is&#160;used by&#160;the&#160;XCP&#160;Transport Layers&#160;to&#160;get&#160;the currently&#160;active&#160;Transport Layer&#160;used by&#160;the&#160;<br/>XCP&#160;Protocol&#160;Layer&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
45&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=46></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-46_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-21&#160;&#160;&#160;Xcp_GetActiveTl&#160;<br/>
&#160;<br/>
<b>5.4&#160;</b><br/>
<b>XCP&#160;Transport&#160;Layer&#160;Services&#160;called by&#160;the&#160;XCP&#160;Protocol Layer&#160;</b><br/>
&#160;<br/>
<b>5.4.1&#160;</b><br/>
<b>&lt;Bus&gt;Xcp_Send&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;&lt;Bus&gt;Xcp_Send&#160;( Xcp_ChannelType XcpChannel, uint8 len, uint8 *msg&#160;)&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
len&#160;<br/>
Length&#160;of&#160;message data&#160;<br/>
msg&#160;<br/>
Pointer&#160;to message&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Requests&#160;for the&#160;transmission&#160;of&#160;a&#160;command transfer object (CTO)&#160;or data transfer object (DTO).&#160;<br/>Xcp_TlTxConfirmation&#160;must be called&#160;after the&#160;successful&#160;transmission&#160;of&#160;any&#160;XCP&#160;message.&#160;The&#160;<br/>XCP&#160;Protocol&#160;Layer&#160;will&#160;not&#160;request further transmissions&#160;otherwise.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-22&#160;&#160;&#160;&lt;Bus&gt;Xcp_Send&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
46&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=47></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-47_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.4.2&#160;</b><br/>
<b>&lt;Bus&gt;Xcp_SendFlush&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void &lt;Bus&gt;Xcp_SendFlush( Xcp_ChannelType XcpChannel, uint8 FlushType )&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
FlushType&#160;<br/>
This&#160;is&#160;one of&#160;the following:&#160;<br/>XCP_FLUSH_CTO:&#160;To flush CTO&#160;messages.&#160;<br/>XCP_FLUSH_DTO:&#160;To flush DTO&#160;message.&#160;<br/>XCP_FLUSH_ALL:&#160;To flush either&#160;message.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Flush the transmit buffer.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-23&#160;&#160;&#160;&lt;Bus&gt;Xcp_SendFlush&#160;<br/>
<b>5.4.3&#160;</b><br/>
<b>&lt;Bus&gt;Xcp_TlService&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8 &lt;Bus&gt;Xcp_TlService(&#160;Xcp_ChannelType XcpChannel, uint8 *pCmd&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
pCmd&#160;<br/>
Pointer&#160;to transport layer&#160;command string&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;Done&#160;<br/>XCP_CMD_PENDING&#160;:&#160;&#160;Call&#160;Xcp_SendCrm()&#160;when&#160;done&#160;<br/>XCP_CMD_SYNTAX&#160;:&#160;Error&#160;<br/>XCP_CMD_BUSY&#160;:&#160;not&#160;executed&#160;<br/>XCP_CMD_UNKNOWN&#160;:&#160;&#160;not&#160;implemented&#160;optional&#160;command&#160;<br/>XCP_CMD_OUT_OF_RANGE&#160;:&#160;command parameters&#160;out of&#160;range&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Transport Layer specific&#160;commands&#160;are&#160;processed&#160;within&#160;the&#160;XCP&#160;Transport Layer.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
47&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=48></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-48_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>Service ID: see&#160;tabl<a href="TechnicalReference_XCPs.html#29">e 'Service IDs'&#160;</a>&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-24&#160;&#160;&#160;&lt;Bus&gt;Xcp_TlService&#160;<br/>
&#160;<br/>
<b>5.5&#160;</b><br/>
<b>Application Services&#160;called by&#160;the&#160;XCP&#160;Protocol Layer&#160;</b><br/>
The&#160;prototypes&#160;of&#160;the&#160;functions&#160;that&#160;are&#160;required&#160;by&#160;the&#160;XCP&#160;Protocol&#160;Layer&#160;can&#160;be&#160;found&#160;<br/>in&#160;the&#160;XcpAppl&#160;header.&#160;<br/>The&#160;&#160;XCP&#160;&#160;Protocol&#160;&#160;Layer&#160;&#160;provides&#160;&#160;application&#160;&#160;callback&#160;&#160;functions&#160;&#160;in&#160;&#160;order&#160;&#160;to&#160;&#160;perform&#160;<br/>application&#160;and&#160;hardware specific&#160;tasks.&#160;<br/>Note:&#160;All&#160;services&#160;within&#160;this&#160;chapter&#160;are&#160;called&#160;from&#160;task&#160;or&#160;interrupt&#160;level.&#160;All&#160;services&#160;are&#160;<br/>not&#160;reentrant.&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
48&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=49></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-49_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.5.1&#160;</b><br/>
<b>XcpAppl_GetTimestamp&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Xcp_TimestampType XcpAppl_GetTimestamp( void )<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Xcp_TimestampType<b>&#160;&#160;</b>The&#160;timestamp which&#160;is&#160;either&#160;uint8,&#160;uint16 or&#160;uint32,&#160;depending&#160;on&#160;<br/>
configuration.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Returns&#160;the current&#160;timestamp.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>DAQ&#160;and timestamp feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim&#160;<br/>
/MICROSAR/Xcp/XcpGeneral/XcpTimestampType&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-25&#160;&#160;&#160;XcpAppl_GetTimestamp&#160;<br/>
<b>5.5.2&#160;</b><br/>
<b>XcpAppl_GetPointer&#160;</b><br/>
<b>Prototype&#160;</b><br/>
Xcp_AddressPtrType&#160;<b>XcpAppl_GetPointer</b>(&#160;Xcp_ChannelType&#160;XcpChannel, uint8&#160;<br/>AddrExt, const Xcp_AddressPtrType Addr&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
AddrExt&#160;<br/>
8 bit address&#160;extension&#160;<br/>
Addr&#160;<br/>
32&#160;bit address&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
Xcp_AddressPtrType&#160;<br/>
Pointer&#160;to the address&#160;specified&#160;by&#160;the&#160;parameters&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
49&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=50></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-50_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;function&#160;converts&#160;a&#160;memory&#160;address&#160;from&#160;XCP&#160;format&#160;(32-bit address&#160;plus&#160;8-bit&#160;address&#160;extension) to&#160;<br/>a C style&#160;pointer.&#160;An&#160;MCS&#160;like CANape&#160;usually&#160;reads&#160;this&#160;memory&#160;addresses&#160;from&#160;the&#160;ASAP2 database or&#160;<br/>from&#160;a&#160;linker&#160;map&#160;file.&#160;<br/>The&#160;address&#160;extension&#160;may&#160;be used&#160;to&#160;distinguish&#160;different address&#160;spaces&#160;or memory&#160;types. In most&#160;<br/>cases, the address&#160;extension&#160;is&#160;not&#160;used&#160;and&#160;may&#160;be ignored.&#160;<br/>This&#160;function&#160;is&#160;used to&#160;convert an address&#160;from&#160;the&#160;MCS&#160;tool.&#160;<br/>Example:&#160;&#160;<br/>The&#160;following&#160;code&#160;shows&#160;an&#160;example of&#160;a&#160;typical&#160;implementation&#160;of&#160;XcpAppl_GetPointer:&#160;<br/>Xcp_AddressPtrType&#160;XcpAppl_GetPointer(&#160;Xcp_ChannelType XcpChannel,&#160;uint8&#160;AddrExt, uint32&#160;Addr )&#160;<br/>
{&#160;<br/>
&#160;&#160;return (Xcp_AddressPtrType)Addr;&#160;<br/>
}&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>DAQ&#160;and timestamp feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim&#160;<br/>
/MICROSAR/Xcp/XcpGeneral/XcpTimestampType&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-26&#160;&#160;&#160;XcpAppl_GetPointer&#160;<br/>
<b>5.5.3&#160;</b><br/>
<b>XcpAppl_GetIdData&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint32&#160;<b>XcpAppl_GetIdData</b>(&#160;uint8&#160;**Data,&#160;uint8 Id&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Data&#160;<br/>
Pointer&#160;to location&#160;where&#160;address&#160;pointer&#160;to Id&#160;data is&#160;stored.&#160;<br/>
Id&#160;<br/>
Identification&#160;of&#160;the requested&#160;information/identification&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint32&#160;<br/>
Length&#160;of&#160;the MAP&#160;file names&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Returns&#160;a&#160;pointer to&#160;identification&#160;information&#160;as&#160;requested&#160;by&#160;the Xcp Master.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Get&#160;ID&#160;feature&#160;needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpGetIdGeneric&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
50&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=51></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-51_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-27&#160;&#160;&#160;XcpAppl_GetIdData&#160;<br/>
<b>5.5.4&#160;</b><br/>
<b>XcpAppl_GetSeed&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_GetSeed</b>(&#160;const uint8 Resource, uint8 *Seed&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Resource&#160;<br/>
Resource for which&#160;the&#160;seed has&#160;to be&#160;generated&#160;<br/>XCP_RM_CAL_PAG&#160;:&#160;&#160;&#160;to&#160;unlock&#160;the resource calibration/paging&#160;<br/>
XCP_RM_DAQ&#160;:&#160;&#160;to&#160;unlock&#160;the resource data&#160;acquisition&#160;<br/>
XCP_RM_STIM&#160;:&#160;&#160;to&#160;unlock&#160;the resource stimulation&#160;<br/>
XCP_RM_PGM&#160;:&#160;&#160;to&#160;unlock&#160;the resource programming&#160;<br/>
Seed&#160;<br/>
Pointer&#160;to RAM&#160;where&#160;the&#160;seed&#160;has&#160;to&#160;be&#160;generated&#160;to.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
The&#160;length of&#160;the&#160;generated seed&#160;that&#160;is&#160;returned&#160;by&#160;seed.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Generate&#160;a&#160;seed&#160;for the&#160;appropriate&#160;resource.&#160;<br/>The&#160;seed has&#160;a maximum&#160;length of&#160;MAX_CTO-2 bytes.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Seed&amp;Key&#160;feature&#160;needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpSeedKey&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-28&#160;&#160;&#160;XcpAppl_GetSeed&#160;<br/>
<b>5.5.5&#160;</b><br/>
<b>XcpAppl_Unlock&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_Unlock</b>(&#160;const uint8 *Key, const uint8 Length&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Key&#160;<br/>
Pointer&#160;to key.&#160;<br/>
Length&#160;<br/>
Length&#160;of&#160;the key.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
51&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=52></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-52_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
0&#160;:&#160;if&#160;the key&#160;is&#160;not&#160;valid&#160;<br/>XCP_RM_CAL_PAG&#160;: to&#160;unlock&#160;the resource calibration/paging&#160;<br/>XCP_RM_DAQ&#160;: to&#160;unlock&#160;the resource data&#160;acquisition&#160;<br/>XCP_RM_STIM&#160;:&#160;to&#160;unlock&#160;the&#160;resource stimulation&#160;<br/>XCP_RM_PGM&#160;: to&#160;unlock&#160;the resource programming&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;the key&#160;and return the&#160;resource that&#160;has&#160;to&#160;be&#160;unlocked.&#160;<br/>Only&#160;one resource may&#160;be&#160;unlocked&#160;at&#160;one&#160;time.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Seed&amp;Key&#160;feature&#160;needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpSeedKey&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-29&#160;&#160;&#160;XcpAppl_Unlock&#160;<br/>
<b>5.5.6&#160;</b><br/>
<b>XcpAppl_CalibrationWrite&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_CalibrationWrite</b>(&#160;Xcp_AddressPtrType Dst, uint8&#160;*Src, uint8 Size&#160;<br/>)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Dst&#160;<br/>
Destination&#160;address&#160;as&#160;integer.&#160;<br/>
Src&#160;<br/>
Pointer&#160;to source&#160;of&#160;data.&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;data&#160;to copy&#160;from&#160;Src&#160;to&#160;Dst.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_DENIED&#160;:&#160;&#160;&#160;if&#160;access&#160;is&#160;denied&#160;<br/>XCP_CMD_PENDING&#160;:&#160;access&#160;is&#160;performed&#160;asynchronously&#160;(e.g.&#160;EEPROM)&#160;<br/>XCP_CMD_OK&#160;:&#160;if&#160;access&#160;is&#160;granted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;addresses&#160;for valid&#160;write&#160;access&#160;and copy&#160;data&#160;from&#160;source to destination.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;can&#160;be&#160;synchronous&#160;and&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-30&#160;&#160;&#160;XcpAppl_CalibrationWrite&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
52&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=53></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-53_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.5.7&#160;</b><br/>
<b>XcpAppl_MeasurementRead&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_MeasurementRead</b>(&#160;uint8 *Dst, Xcp_AddressPtrType Src, uint8 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Dst&#160;<br/>
Pointer&#160;to destination&#160;address&#160;<br/>
Src&#160;<br/>
Source&#160;address&#160;of&#160;data as&#160;integer&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;data&#160;to copy&#160;from&#160;Src&#160;to&#160;Dst.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_DENIED&#160;:&#160;&#160;&#160;if&#160;access&#160;is&#160;denied&#160;<br/>XCP_CMD_PENDING&#160;:&#160;access&#160;is&#160;performed&#160;asynchronously&#160;(e.g.&#160;EEPROM)&#160;<br/>XCP_CMD_OK&#160;:&#160;if&#160;access&#160;is&#160;granted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;addresses&#160;for valid&#160;read&#160;access&#160;and copy&#160;data&#160;from&#160;source to destination.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;can&#160;be&#160;synchronous&#160;and&#160;asynchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-31&#160;&#160;&#160;XcpAppl_MeasurementRead&#160;<br/>
<b>5.5.8&#160;</b><br/>
<b>XcpAppl_CheckReadAccess&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_CheckReadAccess</b>(&#160;Xcp_ChannelType XcpChannel,&#160;Xcp_AddressPtrType&#160;<br/>Address, uint32 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Address&#160;<br/>
Destination&#160;address&#160;to&#160;check.&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;data&#160;to check.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_DENIED&#160;:&#160;&#160;&#160;if&#160;access&#160;is&#160;denied&#160;<br/>XCP_CMD_OK&#160;:&#160;if&#160;access&#160;is&#160;granted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;addresses&#160;for valid&#160;read&#160;access.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
53&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=54></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-54_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Read&#160;Protection feature&#160;need&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpMemoryReadProtection&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-32&#160;&#160;&#160;XcpAppl_CheckReadAccess&#160;<br/>
<b>5.5.9&#160;</b><br/>
<b>XcpAppl_CheckProgramAccess&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_CheckProgramAccess</b>(&#160;Xcp_AddressPtrType&#160;Address, uint32 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Address&#160;<br/>
Destination&#160;address&#160;to&#160;check.&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;data&#160;to&#160;check.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_DENIED&#160;:&#160;&#160;&#160;if&#160;access&#160;is&#160;denied&#160;<br/>XCP_CMD_OK&#160;:&#160;if&#160;access&#160;is&#160;granted&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Check&#160;addresses&#160;for valid&#160;write&#160;flash&#160;access.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-33&#160;&#160;&#160;XcpAppl_CheckProgramAccess&#160;<br/>
<b>5.5.10&#160;&#160;XcpAppl_UserService&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_UserService</b>(&#160;uint8&#160;*Cmd&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Cmd&#160;<br/>
Pointer&#160;to command string&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;if&#160;command&#160;is&#160;accepted.&#160;<br/>XCP_CMD_PENDING&#160;:&#160;&#160;if&#160;command is&#160;performed&#160;asynchronously.&#160;<br/>XCP_CMD_SYNTAX&#160;:&#160;&#160;&#160;if&#160;command is&#160;not&#160;accepted.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
54&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=55></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-55_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Application specific&#160;user command.&#160;<br/>
&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>User command feature need to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpUserDefinedCommand&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-34&#160;&#160;&#160;XcpAppl_UserService&#160;<br/>
<b>5.5.11&#160;&#160;XcpAppl_OpenCmdIf&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_OpenCmdIf</b>(&#160;Xcp_ChannelType XcpChannel, uint8 *Cmd, uint8&#160;<br/>*Response, uint8 *Length&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Cmd&#160;<br/>
Pointer&#160;to command string&#160;<br/>
Response&#160;<br/>
Pointer&#160;to response string&#160;<br/>
Length&#160;<br/>
Pointer&#160;to response length&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;if&#160;command&#160;is&#160;accepted.&#160;<br/>XCP_CMD_PENDING&#160;:&#160;&#160;if&#160;command is&#160;performed&#160;asynchronously.&#160;<br/>XCP_CMD_UNKNOWN&#160;:&#160;&#160;if&#160;command is&#160;not&#160;accepted.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Call&#160;back&#160;that&#160;can&#160;be&#160;used&#160;to&#160;extend&#160;the&#160;XCP&#160;commands&#160;of&#160;the XCP&#160;protocol&#160;layer.&#160;&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>User command feature need to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpOpenCommandInterface&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-35&#160;&#160;&#160;XcpAppl_OpenCmdIf&#160;<br/>
<b>5.5.12&#160;&#160;XcpAppl_SendStall&#160;</b><br/>
<b>Prototype&#160;</b><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
55&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=56></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-56_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
uint8&#160;<b>XcpAppl_SendStall</b>(&#160;Xcp_ChannelType XcpChannel&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
0&#160;:&#160;Reject sending of&#160;new&#160;message.&#160;<br/>1&#160;:&#160;continue&#160;processing.&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Resolve&#160;a transmit stall&#160;condition&#160;in&#160;Xcp_Putchar&#160;or&#160;Xcp_SendEvent.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Service request&#160;Messages&#160;feature need&#160;to be enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpAsynchMessage/XcpServiceRequestMessage&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-36&#160;&#160;&#160;XcpAppl_SendStall&#160;<br/>
<b>5.5.13&#160;&#160;XcpAppl_DisableNormalOperation&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_DisableNormalOperation</b>(&#160;Xcp_AddressPtrType Address, uint16 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Address&#160;<br/>
Address&#160;(where the flash kernel&#160;is&#160;downloaded&#160;to)&#160;<br/>
Size&#160;<br/>
Size&#160;(of&#160;the flash kernel)&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK:&#160;<br/>
download of&#160;flash kernel&#160;confirmed&#160;<br/>
XCP_CMD_DENIED:&#160;download of&#160;flash kernel&#160;refused&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Prior to the flash kernel&#160;download&#160;has&#160;the ECU’s&#160;normal&#160;operation&#160;to&#160;be&#160;stopped in&#160;order to avoid&#160;<br/>misbehavior due&#160;to&#160;data inconsistencies.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Bootloader&#160;download&#160;feature need&#160;to be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpGeneral/XcpBootloaderDownload&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-37&#160;&#160;&#160;XcpAppl_DisableNormalOperation&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
56&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=57></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-57_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.5.14&#160;&#160;XcpAppl_StartBootLoader&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_StartBootLoader</b>(&#160;void&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
This&#160;function&#160;should&#160;not return.&#160;<br/>XCP_CMD_OK&#160;:&#160;<br/>
positive response&#160;<br/>
XCP_CMD_BUSY&#160;:&#160;<br/>
negative response&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
<b>Functional&#160;Description&#160;</b><br/>
Start&#160;of&#160;the boot&#160;loader.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Bootloader&#160;download&#160;feature need&#160;to be&#160;enabled:&#160;<br/>/MICROSAR/Xcp/XcpGeneral/XcpBootloaderDownload&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-38&#160;&#160;&#160;XcpAppl_StartBootLoader&#160;<br/>
<b>5.5.15&#160;&#160;XcpAppl_Reset&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>XcpAppl_Reset</b>(&#160;void&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Perform&#160;an&#160;ECU reset&#160;after&#160;reprogramming&#160;of&#160;the&#160;application.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Programming&#160;feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
57&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=58></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-58_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-39&#160;&#160;&#160;XcpAppl_Reset&#160;<br/>
<b>5.5.16&#160;&#160;XcpAppl_ProgramStart&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_ProgramStart</b>(&#160;void&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;Preparation&#160;done&#160;<br/>XCP_CMD_PENDING&#160;:&#160;Call&#160;Xcp_SendCrm()&#160;when done&#160;<br/>XCP_CMD_ERROR&#160;:&#160;Flash&#160;programming&#160;not&#160;possible&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Prepare&#160;the&#160;ECU for flash programming.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Programming&#160;feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-40&#160;&#160;&#160;XcpAppl_ProgramStart&#160;<br/>
<b>5.5.17&#160;&#160;XcpAppl_FlashClear&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_FlashClear</b>(&#160;uint8 *Address, uint32 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Address&#160;<br/>
Address&#160;of&#160;memory&#160;area&#160;to&#160;clear&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;memory&#160;area&#160;to clear&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;: Flash memory&#160;erase&#160;done&#160;<br/>XCP_CMD_PENDING&#160;:&#160;&#160;&#160;Call&#160;Xcp_SendCrm()&#160;when&#160;done&#160;<br/>XCP_CMD_ERROR&#160;: Flash&#160;memory&#160;erase&#160;error&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Clear&#160;the&#160;flash&#160;memory,&#160;before the&#160;flash memory&#160;will&#160;be reprogrammed.&#160;<br/>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
58&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=59></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-59_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Programming&#160;feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-41&#160;&#160;&#160;XcpAppl_FlashClear&#160;<br/>
<b>5.5.18&#160;&#160;XcpAppl_FlashProgram&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_FlashProgram</b>(&#160;const uint8 *Data, uint8 *Address, uint8 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Data&#160;<br/>
Pointer&#160;to data.&#160;<br/>
Address&#160;<br/>
Address&#160;of&#160;memory&#160;to&#160;store data&#160;at.&#160;<br/>
Size&#160;<br/>
Size&#160;of&#160;data.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;Flash&#160;memory&#160;programming&#160;finished&#160;<br/>XCP_CMD_PENDING&#160;:&#160;Flash memory&#160;programming&#160;in&#160;progress.&#160;<br/>&#160;<br/>
Xcp_SendCrm&#160;has&#160;to&#160;be&#160;called&#160;when&#160;done.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Program&#160;the cleared flash&#160;memory.&#160;<br/>&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Programming&#160;feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpProgramming&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-42&#160;&#160;&#160;XcpAppl_FlashProgram&#160;<br/>
<b>5.5.19&#160;&#160;XcpAppl_DaqResume&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_DaqResume</b>(&#160;Xcp_ChannelType XcpChannel, Xcp_ChannelStruct *Channel&#160;<br/>)<b>&#160;</b><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
59&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=60></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-60_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Channel&#160;<br/>
Pointer&#160;to dynamic&#160;DAQ&#160;list&#160;structure&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
Boolean&#160;flag&#160;whether&#160;valid&#160;DAQ&#160;list&#160;was&#160;restored.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Resume the&#160;automatic&#160;data&#160;transfer.&#160;<br/>The&#160;whole dynamic&#160;DAQ&#160;list structure that&#160;had been&#160;stored&#160;in non-volatile&#160;memory&#160;within the&#160;service&#160;<br/>XcpAppl_DaqResumeStore(..)&#160;has&#160;to&#160;be&#160;restored&#160;to&#160;RAM.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpResumeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-43&#160;&#160;&#160;XcpAppl_DaqResume&#160;<br/>
<b>5.5.20&#160;&#160;XcpAppl_DaqResumeStore&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>XcpAppl_DaqResumeStore</b>(&#160;Xcp_ChannelType XcpChannel, const&#160;<br/>Xcp_ChannelStruct *Channel, uint8 MeasurementStart&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
Channel&#160;<br/>
Pointer&#160;to dynamic&#160;DAQ&#160;list&#160;structure&#160;<br/>
MeasurementStart&#160;<br/>
If&#160;&gt;&#160;0&#160;then&#160;set&#160;flag to start&#160;measurement during&#160;next&#160;init&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;application&#160;callback&#160;service has&#160;to&#160;store the&#160;whole&#160;dynamic&#160;DAQ&#160;list structure&#160;in&#160;non-volatile&#160;<br/>memory&#160;for the&#160;DAQ&#160;resume mode.&#160;Any&#160;old DAQ&#160;list configuration that&#160;might have been&#160;stored in non-<br/>volatile&#160;memory&#160;before this&#160;command,&#160;must not&#160;be&#160;applicable&#160;anymore.&#160;<br/>After a cold start or reset&#160;the dynamic&#160;DAQ&#160;list structure has&#160;to be&#160;restored&#160;by&#160;the&#160;application&#160;callback&#160;<br/>service&#160;XcpAppl_DaqResume(..)when&#160;the&#160;flag&#160;MeasurementStart is&#160;&gt;&#160;0.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
60&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=61></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-61_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpResumeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-44&#160;&#160;&#160;XcpAppl_DaqResumeStore&#160;<br/>
<b>5.5.21&#160;&#160;XcpAppl_DaqResumeClear&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>XcpAppl_DaqResumeClear</b>(&#160;Xcp_ChannelType XcpChannel&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>The&#160;whole dynamic&#160;DAQ&#160;list structure that&#160;had been&#160;stored&#160;in non-volatile&#160;memory&#160;within the&#160;service&#160;<br/>XcpAppl_DaqResumeStore(..)&#160;has&#160;to&#160;be&#160;cleared.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpDaqAndStim/XcpResumeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-45&#160;&#160;&#160;XcpAppl_DaqResumeClear&#160;<br/>
<b>5.5.22&#160;&#160;XcpAppl_CalResumeStore&#160;</b><br/>
<b>Prototype&#160;</b><br/>
boolean&#160;<b>XcpAppl_CalResumeStore</b>(&#160;Xcp_ChannelType XcpChannel&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
boolean&#160;<br/>
If&#160;true the calibration&#160;page&#160;was&#160;stored.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
61&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=62></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-62_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;application&#160;callback&#160;service has&#160;to&#160;store the current&#160;calibration data&#160;in non-volatile memory&#160;for the&#160;<br/>resume&#160;mode.&#160;<br/>After a cold start or reset&#160;the calibration&#160;data has&#160;to&#160;be&#160;restored by&#160;the&#160;application.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpFreezeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-46&#160;&#160;&#160;XcpAppl_CalResumeStore&#160;<br/>
<b>5.5.23&#160;&#160;XcpAppl_GetCalPage&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_GetCalPage</b>(&#160;uint8 Segment, uint8 Mode&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Segment&#160;<br/>
Logical&#160;data&#160;segment number&#160;<br/>
Mode&#160;<br/>
Access&#160;mode&#160;<br/>The&#160;access&#160;mode can&#160;be&#160;one&#160;of&#160;the&#160;following&#160;values:&#160;<br/>1&#160;: ECU access&#160;<br/>2&#160;: XCP&#160;access&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
Logical&#160;data&#160;page&#160;number&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>This&#160;function&#160;returns&#160;the&#160;logical&#160;number&#160;of&#160;the calibration&#160;data&#160;page that&#160;is&#160;currently&#160;activated&#160;for the&#160;<br/>specified&#160;access&#160;mode and&#160;data&#160;segment.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-47&#160;&#160;&#160;XcpAppl_GetCalPage&#160;<br/>
<b>5.5.24&#160;&#160;XcpAppl_SetCalPage&#160;</b><br/>
<b>Prototype&#160;</b><br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
62&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=63></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-63_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
uint8&#160;<b>XcpAppl_SetCalPage</b>(&#160;uint8 Segment, uint8 Page, uint8 Mode&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Segment&#160;<br/>
Logical&#160;data&#160;segment number&#160;<br/>
Page&#160;<br/>
Logical&#160;data&#160;page&#160;number&#160;<br/>
Mode&#160;<br/>
Access&#160;mode&#160;<br/>The&#160;access&#160;mode can&#160;be&#160;one&#160;of&#160;the&#160;following&#160;values:&#160;<br/>1&#160;: ECU access&#160;the&#160;given page&#160;will&#160;be used by&#160;the slave device&#160;application&#160;<br/>2&#160;: XCP&#160;access&#160;the&#160;slave device XCP&#160;driver&#160;will&#160;access&#160;the given&#160;page&#160;<br/>Both&#160;flags&#160;may&#160;be&#160;set&#160;simultaneously&#160;or separately.&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;Operation&#160;completed successfully&#160;<br/>XCP_CMD_PENDING :&#160;Call&#160;Xcp_SendCrm()&#160;when&#160;done&#160;<br/>XCP_CRC_OUT_OF_RANGE&#160;:&#160;segment out&#160;of&#160;range&#160;(only&#160;one&#160;segment&#160;<br/>supported)&#160;<br/>XCP_CRC_PAGE_NOT_VALID&#160;:&#160;Selected&#160;page&#160;not&#160;available&#160;<br/>XCP_CRC_PAGE_MODE_NOT_VALID&#160;:&#160;Selected&#160;page mode not&#160;available&#160;<br/>
<b>Functional&#160;Description&#160;</b><br/>
Switch&#160;pages, e.g.&#160;from&#160;reference&#160;page&#160;to&#160;working&#160;page.&#160;&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-48&#160;&#160;&#160;XcpAppl_SetCalPage&#160;<br/>
<b>5.5.25&#160;&#160;XcpAppl_CopyCalPage&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_CopyCalPage</b>(&#160;uint8 SrcSeg, uint8 SrcPage, uint8 DestSeg, uint8&#160;<br/>DestPage&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
SrcSeg&#160;<br/>
Source segment.&#160;<br/>
SrcPage&#160;<br/>
Source&#160;page.&#160;<br/>
DestSeg&#160;<br/>
Destination&#160;segment.&#160;<br/>
DestPage&#160;<br/>
Destination&#160;page.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
63&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=64></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-64_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK&#160;:&#160;Operation completed successfully&#160;<br/>XCP_CMD_PENDING&#160;: Call&#160;XcpSendCrm()&#160;when&#160;done&#160;<br/>XCP_CRC_PAGE_NOT_VALID&#160;: Page&#160;not&#160;available&#160;<br/>XCP_CRC_SEGMENT_NOT_VALID&#160;:&#160;Segment not available&#160;<br/>XCP_CRC_WRITE_PROTECTED&#160;: Destination&#160;page&#160;is&#160;write&#160;protected.&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Copying of&#160;calibration&#160;data&#160;pages.&#160;<br/>The&#160;pages&#160;are&#160;copied&#160;from&#160;source to destination.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpCopyPage&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-49&#160;&#160;&#160;XcpAppl_CopyCalPage&#160;<br/>
<b>5.5.26&#160;&#160;XcpAppl_SetFreezeMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
void&#160;<b>XcpAppl_SetFreezeMode</b>(&#160;uint8 Segment, uint8 Mode&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Segment&#160;<br/>
Segment to&#160;set freeze mode&#160;<br/>
Mode&#160;<br/>
New&#160;freeze mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Setting&#160;the&#160;freeze mode of&#160;a certain segment.&#160;Application&#160;must store the current&#160;freeze mode of&#160;each&#160;<br/>segment.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpFreezeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-50&#160;&#160;&#160;XcpAppl_SetFreezeMode&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
64&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=65></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-65_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>5.5.27&#160;&#160;XcpAppl_GetFreezeMode&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_GetFreezeMode</b>(&#160;uint8 Segment&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Segment&#160;<br/>
Segment to&#160;read&#160;freeze mode&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
Return&#160;the&#160;current&#160;freeze mode,&#160;set&#160;by&#160;XcpAppl_SetFreezeMode().&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Reading&#160;the&#160;freeze mode of&#160;a&#160;certain segment.&#160;Application must store the current&#160;freeze mode of&#160;each&#160;<br/>segment and&#160;report it by&#160;the return&#160;value of&#160;this&#160;function.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be&#160;enabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>/MICROSAR/Xcp/XcpCmdConfig/XcpPageSwitching/XcpFreezeMode&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-51&#160;&#160;&#160;XcpAppl_GetFreezeMode&#160;<br/>
<b>5.5.28&#160;&#160;XcpAppl_CalculateChecksum&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_CalculateChecksum</b>(&#160;uint8 *MemArea, uint8 *Result, uint32 Length&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
MemArea&#160;<br/>
Address&#160;pointer&#160;to&#160;memory&#160;area&#160;<br/>
Result&#160;<br/>
Pointer&#160;to response string&#160;<br/>
Length&#160;<br/>
Length&#160;of&#160;mem&#160;area,&#160;used&#160;for checksum&#160;calculation&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
uint8&#160;<br/>
XCP_CMD_OK :&#160;CRC calculation performed&#160;successfully&#160;<br/>XCP_CMD_PENDING :&#160;Pending&#160;response,&#160;triggered&#160;by&#160;call&#160;of&#160;<br/>Xcp_SendCrm&#160;<br/>XCP_CMD_DENIED :&#160;CRC calculation&#160;not&#160;possible&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Normally&#160;the XCP&#160;uses&#160;internal&#160;checksum&#160;calculation&#160;functions. If&#160;the&#160;internal&#160;checksum&#160;calculation&#160;<br/>does&#160;not&#160;fit the user requirements&#160;this&#160;call-back&#160;can&#160;be&#160;used&#160;to calculate the checksum&#160;by&#160;the&#160;<br/>application.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
65&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=66></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-66_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;asynchronous&#160;if&#160;it returns&#160;XCP_CMD_PENDING.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
<b>&gt;&#160;&#160;</b>Resume Mode feature needs&#160;to&#160;be enabled:&#160;<br/>
<b>&gt;&#160;&#160;</b>/MICROSAR/Xcp/XcpCmdConfig/XcpStandard/XcpCRC/XcpCustomCRC&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;level&#160;<br/>
Table&#160;5-52&#160;&#160;&#160;XcpAppl_CalculateChecksum&#160;<br/>
<b>5.5.29&#160;&#160;XcpAppl_ConStateNotification&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_ConStateNotification</b>(&#160;Xcp_ChannelType XcpChannel, uint8&#160;<br/>ConnectionState&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
XcpChannel&#160;<br/>
The&#160;channel&#160;number&#160;in multi&#160;client&#160;mode.&#160;<br/>
ConnectionState&#160;<br/>
The&#160;new&#160;connection&#160;state (XCP_CON_STATE_RESUME,&#160;<br/>XCP_CON_STATE_DISCONNECTED,&#160;XCP_CON_STATE_CONNECTED).&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Notifies&#160;the&#160;application that&#160;the connection&#160;state&#160;has&#160;changed&#160;and&#160;which the new&#160;state is.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and interrupt&#160;level&#160;<br/>
Table&#160;5-53&#160;&#160;&#160;XcpAppl_ConStateNotification&#160;<br/>
<b>5.5.30&#160;&#160;XcpAppl_MemCpy&#160;</b><br/>
<b>Prototype&#160;</b><br/>
uint8&#160;<b>XcpAppl_MemCpy</b>(&#160;uint8 * Dst,&#160;const&#160;uint8&#160;*&#160;Src, uint16 Size&#160;)<b>&#160;</b><br/>
<b>Parameter&#160;</b><br/>
Dst&#160;<br/>
The&#160;destination&#160;where the&#160;data&#160;is&#160;copied&#160;to.&#160;<br/>
Src&#160;<br/>
The&#160;source where the&#160;data&#160;is&#160;copied&#160;from.&#160;<br/>
Size&#160;<br/>
The&#160;number&#160;of&#160;byte to&#160;be&#160;copied.&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
66&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=67></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-67_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>Return&#160;code&#160;</b><br/>
-&#160;<br/>
-&#160;<br/>
<b>Functional&#160;Description&#160;<br/></b>Copies&#160;data from&#160;source to&#160;destination.&#160;<br/>
<b>Particularities&#160;and&#160;Limitations&#160;</b><br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;synchronous.&#160;<br/>
<b>&gt;&#160;&#160;</b>This&#160;function&#160;is&#160;non-reentrant.&#160;<br/>
<b>&gt;&#160;&#160;</b>The&#160;XCP&#160;Protocol&#160;Layer&#160;has&#160;to&#160;be&#160;initialized&#160;correctly.&#160;<br/>
Expected&#160;Caller&#160;Context&#160;<br/>
<b>&gt;&#160;&#160;</b>Task&#160;and&#160;interrupt&#160;level&#160;<br/>
Table&#160;5-54&#160;&#160;&#160;XcpAppl_MemCpy&#160;<br/>
<b>5.6&#160;</b><br/>
<b>Services&#160;used&#160;by&#160;XCP&#160;</b><br/>
In&#160;the&#160;following&#160;table&#160;services&#160;provided&#160;by&#160;other&#160;components,&#160;which&#160;are&#160;used&#160;by&#160;the&#160;XCP&#160;<br/>are&#160;&#160;listed.&#160;&#160;For&#160;details&#160;about&#160;&#160;prototype&#160;and&#160;functionality&#160;refer&#160;to&#160;the&#160;documentation&#160;of&#160;&#160;the&#160;<br/>providing&#160;component.&#160;<br/>
<b>Component&#160;</b><br/>
<b>API&#160;</b><br/>
DET&#160;<br/>
Det_ReportError&#160;<br/>
OS&#160;<br/>
GetCoreID&#160;<br/>
Table&#160;5-55&#160;&#160;&#160;Services&#160;used&#160;by&#160;the&#160;XCP&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
67&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=68></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-68_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>6&#160;&#160;Configuration&#160;</b><br/>
<b>6.1&#160;</b><br/>
<b>Configuration&#160;Variants&#160;</b><br/>
The&#160;XCP&#160;supports the&#160;configuration&#160;variants&#160;<br/>
<b>&gt;&#160;&#160;</b>VARIANT-PRE-COMPILE&#160;<br/>
The&#160;configuration&#160;classes&#160;of&#160;the&#160;XCP&#160;parameters&#160;depend&#160;on&#160;the&#160;supported&#160;configuration&#160;<br/>variants.&#160;For their&#160;definitions please&#160;see&#160;the&#160;Xcp_bswmd.arxml file.&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
68&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=69></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-69_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>7&#160;&#160;Glossary&#160;and&#160;Abbreviations&#160;</b><br/>
<b>7.1&#160;</b><br/>
<b>Abbreviations&#160;</b><br/>
<b>Abbreviation&#160;</b><br/>
<b>Description&#160;</b><br/>
<b>A2L&#160;</b><br/>
File Extension&#160;for&#160;an&#160;<b>A</b>SAM&#160;<b>2</b>MC&#160;<b>L</b>anguage&#160;File&#160;<br/>
<b>AML&#160;</b><br/>
<b>A</b>SAM&#160;2&#160;<b>M</b>eta&#160;<b>L</b>anguage&#160;<br/>
<b>API&#160;</b><br/>
<b>A</b>pplication&#160;<b>P</b>rogramming&#160;<b>I</b>nterface<b>&#160;</b><br/>
<b>ASAM&#160;</b><br/>
<b>A</b>ssociation for&#160;<b>S</b>tandardization of&#160;<b>A</b>utomation and&#160;<b>M</b>easuring&#160;Systems&#160;<br/>
<b>BYP&#160;</b><br/>
<b>BYP</b>assing&#160;<br/>
<b>CAN&#160;</b><br/>
<b>C</b>ontroller&#160;<b>A</b>rea&#160;<b>N</b>etwork&#160;<br/>
<b>CAL&#160;</b><br/>
<b>CAL</b>ibration&#160;<br/>
<b>CANape</b>&#160;<br/>
Calibration&#160;&#160;and&#160;&#160;Measurement&#160;&#160;Data&#160;&#160;Acquisition&#160;&#160;for&#160;&#160;Electronic&#160;&#160;Control&#160;<br/>Systems&#160;<br/>
<b>CMD&#160;</b><br/>
<b>C</b>o<b>m</b>man<b>d</b>&#160;<br/>
<b>CTO&#160;</b><br/>
<b>C</b>ommand&#160;<b>T</b>ransfer&#160;<b>O</b>bject&#160;<br/>
<b>DAQ&#160;</b><br/>
Synchronous&#160;<b>D</b>ata&#160;<b>A</b>c<b>q</b>uistion&#160;<br/>
<b>DLC&#160;</b><br/>
<b>D</b>ata&#160;<b>L</b>ength&#160;<b>C</b>ode&#160;(&#160;Number&#160;of&#160;data&#160;bytes of&#160;a&#160;CAN&#160;message&#160;)&#160;<br/>
<b>DLL&#160;</b><br/>
<b>D</b>ata&#160;<b>l</b>ink&#160;<b>l</b>ayer&#160;<br/>
<b>DTO&#160;</b><br/>
<b>D</b>ata&#160;<b>T</b>ransfer&#160;<b>O</b>bject&#160;<br/>
<b>ECU&#160;</b><br/>
<b>E</b>lectronic&#160;<b>C</b>ontrol&#160;<b>U</b>nit&#160;<br/>
<b>ERR&#160;</b><br/>
<b>Err</b>or&#160;Packet&#160;<br/>
<b>EV&#160;</b><br/>
<b>Ev</b>ent&#160;packet&#160;<br/>
<b>ID&#160;</b><br/>
<b>Id</b>entifier&#160;(of&#160;a&#160;CAN&#160;message)&#160;<br/>
<b>Identifier&#160;</b><br/>
Identifies&#160;a CAN&#160;message&#160;<br/>
<b>ISR&#160;</b><br/>
<b>I</b>nterrupt&#160;<b>S</b>ervice&#160;<b>R</b>outine&#160;<br/>
<b>MCS&#160;</b><br/>
<b>M</b>aster&#160;<b>C</b>alibration&#160;<b>S</b>ystem<b>&#160;</b><br/>
<b>Message&#160;</b><br/>
One&#160;or&#160;more&#160;signals&#160;are&#160;assigned&#160;to&#160;each&#160;message.&#160;<br/>
<b>ODT&#160;</b><br/>
<b>O</b>bject&#160;<b>D</b>escriptor&#160;<b>T</b>able&#160;<br/>
<b>OEM&#160;</b><br/>
<b>O</b>riginal&#160;<b>e</b>quipment&#160;<b>m</b>anufacturer&#160;(vehicle manufacturer)&#160;<br/>
<b>PAG&#160;</b><br/>
<b>PAG</b>ing&#160;<br/>
<b>PID&#160;</b><br/>
<b>P</b>acket&#160;<b>Id</b>entifier&#160;<br/>
<b>PGM&#160;</b><br/>
<b>P</b>ro<b>g</b>ra<b>m</b>ming&#160;<br/>
<b>RAM&#160;</b><br/>
<b>R</b>andom&#160;<b>A</b>ccess&#160;<b>M</b>emory&#160;<br/>
<b>RES&#160;</b><br/>
Command&#160;<b>Res</b>ponse&#160;Packet&#160;<br/>
<b>ROM&#160;</b><br/>
<b>R</b>ead&#160;<b>O</b>nly&#160;<b>M</b>emory&#160;<br/>
<b>SERV&#160;</b><br/>
<b>Ser</b>vice Request&#160;Packet&#160;<br/>
<b>STIM&#160;</b><br/>
<b>Stim</b>ulation&#160;<br/>
<b>TCP/IP&#160;</b><br/>
<b>T</b>ransfer&#160;<b>C</b>ontrol&#160;<b>P</b>rotocol&#160;/&#160;<b>I</b>nternet&#160;<b>P</b>rotocol&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
69&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=70></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-70_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>UDP/IP&#160;</b><br/>
<b>U</b>nified&#160;<b>D</b>ata&#160;<b>P</b>rotocol&#160;/&#160;<b>I</b>nternet&#160;<b>P</b>rotocol&#160;<br/>
<b>USB&#160;</b><br/>
<b>U</b>niversal&#160;<b>S</b>erial&#160;<b>B</b>us&#160;<br/>
<b>XCP&#160;</b><br/>
Universal&#160;Measurement&#160;and&#160;<b>C</b>alibration&#160;<b>P</b>rotocol&#160;<br/>
<b>VI&#160;</b><br/>
<b>V</b>ector&#160;<b>I</b>nformatik&#160;GmbH&#160;<br/>
Table&#160;7-1&#160;&#160;&#160;Abbreviations&#160;<br/>
&#160;<br/>
&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
70&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name=71></a><img src="ElectricPowerSteering_RH850_BMW_FAAR_WE_website/content/en/docs/Xcp/doc/TechnicalReference_XCP-71_1.png"/><br/>
Technical&#160;ReferenceTechnical&#160;Reference&#160;MICROSAR&#160;XCPMICROSAR&#160;XCP&#160;<br/>
<b>8&#160;&#160;Contact&#160;</b><br/>
Visit&#160;our website&#160;for&#160;more information&#160;on&#160;<br/>&#160;<br/><b>&gt;&#160;&#160;</b>News&#160;<br/>
<b>&gt;&#160;&#160;</b>Products&#160;<br/>
<b>&gt;&#160;&#160;</b>Demo&#160;software&#160;<br/>
<b>&gt;&#160;&#160;</b>Support&#160;<br/>
<b>&gt;&#160;&#160;</b>Training&#160;data&#160;<br/>
<b>&gt;&#160;&#160;</b>Addresses&#160;<br/>
&#160;<br/>www.vector.com&#160;<br/>
&#160;<br/>&#160;<br/>
©&#160;2017&#160;Vector&#160;Informatik&#160;GmbH&#160;<br/>
Version&#160;2.0.02.0.0&#160;<br/>
71&#160;<br/>
based&#160;on&#160;template&#160;version&#160;6.0.1&#160;<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="TechnicalReference_XCPs.html#10">1 Component History</a></li>
<li><a href="TechnicalReference_XCPs.html#11">2 Introduction</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#11">2.1 Architecture Overview</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#13">3 Functional Description</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#13">3.1 Features</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#13">3.1.1 Deviations</a></li>
<li><a href="TechnicalReference_XCPs.html#15">3.1.2 Additions/ Extensions</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#15">3.2 Initialization</a></li>
<li><a href="TechnicalReference_XCPs.html#15">3.3 States</a></li>
<li><a href="TechnicalReference_XCPs.html#16">3.4 Main Functions</a></li>
<li><a href="TechnicalReference_XCPs.html#16">3.5 Block Transfer Communication Model</a></li>
<li><a href="TechnicalReference_XCPs.html#17">3.6 Slave Device Identification</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#17">3.6.1 XCP Station Identifier</a></li>
<li><a href="TechnicalReference_XCPs.html#17">3.6.2 XCP Generic Identification</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#17">3.7 Seed &amp; Key</a></li>
<li><a href="TechnicalReference_XCPs.html#18">3.8 Checksum Calculation</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#18">3.8.1 Custom CRC calculation</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#18">3.9 Memory Access by Application</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#18">3.9.1 Memory Read and Write Protection</a></li>
<li><a href="TechnicalReference_XCPs.html#19">3.9.2 Special use case “Type Safe Copy”</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#19">3.10 Event Codes</a></li>
<li><a href="TechnicalReference_XCPs.html#20">3.11 Service Request Messages</a></li>
<li><a href="TechnicalReference_XCPs.html#20">3.12 User Defined Command</a></li>
<li><a href="TechnicalReference_XCPs.html#20">3.13 Synchronous Data Transfer</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#20">3.13.1 Synchronous Data Acquisition (DAQ)</a></li>
<li><a href="TechnicalReference_XCPs.html#21">3.13.2 DAQ Timestamp</a></li>
<li><a href="TechnicalReference_XCPs.html#21">3.13.3 Power-Up Data Transfer</a></li>
<li><a href="TechnicalReference_XCPs.html#22">3.13.4 Data Stimulation (STIM)</a></li>
<li><a href="TechnicalReference_XCPs.html#22">3.13.5 Bypassing</a></li>
<li><a href="TechnicalReference_XCPs.html#22">3.13.6 Data Acquisition Plug &amp; Play Mechanisms</a></li>
<li><a href="TechnicalReference_XCPs.html#23">3.13.7 Event Channel Plug &amp; Play Mechanism</a></li>
<li><a href="TechnicalReference_XCPs.html#23">3.13.8 Send Queue</a></li>
<li><a href="TechnicalReference_XCPs.html#23">3.13.9 Data consistency</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#24">3.14 The Online Data Calibration Model</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#24">3.14.1 Page Switching</a></li>
<li><a href="TechnicalReference_XCPs.html#24">3.14.2 Page Switching Plug &amp; Play Mechanism</a></li>
<li><a href="TechnicalReference_XCPs.html#24">3.14.3 Calibration Data Page Copying</a></li>
<li><a href="TechnicalReference_XCPs.html#24">3.14.4 Freeze Mode Handling</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#25">3.15 Flash Programming</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#25">3.15.1 Flash Programming by the ECU’s Application</a></li>
<li><a href="TechnicalReference_XCPs.html#25">3.15.2 Flash Programming Plug &amp; Play Mechanism</a></li>
<li><a href="TechnicalReference_XCPs.html#26">3.15.3 Flash Programming with a Flash Kernel</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#26">3.16 Multi Core Support</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#26">3.16.1 Type Safe Copy</a></li>
<li><a href="TechnicalReference_XCPs.html#27">3.16.2 DAQ/STIM with Multi Core</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#28">3.17 En- / Disabling the XCP module</a></li>
<li><a href="TechnicalReference_XCPs.html#28">3.18 XCP measurement during the post event time</a></li>
<li><a href="TechnicalReference_XCPs.html#29">3.19 Error Handling</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#29">3.19.1 Development Error Reporting</a></li>
<li><a href="TechnicalReference_XCPs.html#30">3.19.2 Production Code Error Reporting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#31">4 Integration</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#31">4.1 Scope of Delivery</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#31">4.1.1 Static Files</a></li>
<li><a href="TechnicalReference_XCPs.html#31">4.1.2 Templates – user modifiable</a></li>
<li><a href="TechnicalReference_XCPs.html#31">4.1.3 Dynamic Files</a></li>
<li><a href="TechnicalReference_XCPs.html#31">4.1.4 Generated a2l files</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#32">4.2 Critical Sections</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#32">4.2.1 XCP_EXCLUSIVE_AREA_0</a></li>
<li><a href="TechnicalReference_XCPs.html#32">4.2.2 XCP_EXCLUSIVE_AREA_1</a></li>
<li><a href="TechnicalReference_XCPs.html#32">4.2.3 XCP_EXCLUSIVE_AREA_2</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#33">4.3 Memory Mapping</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#34">5 API Description</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#34">5.1 Type Definitions</a></li>
<li><a href="TechnicalReference_XCPs.html#35">5.2 Services provided by XCP</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#35">5.2.1 Xcp_InitMemory</a></li>
<li><a href="TechnicalReference_XCPs.html#35">5.2.2 Xcp_Init</a></li>
<li><a href="TechnicalReference_XCPs.html#36">5.2.3 Xcp_Event</a></li>
<li><a href="TechnicalReference_XCPs.html#36">5.2.4 Xcp_StimEventStatus</a></li>
<li><a href="TechnicalReference_XCPs.html#37">5.2.5 Xcp_MainFunction</a></li>
<li><a href="TechnicalReference_XCPs.html#38">5.2.6 Xcp_SendEvent</a></li>
<li><a href="TechnicalReference_XCPs.html#38">5.2.7 Xcp_PutChar</a></li>
<li><a href="TechnicalReference_XCPs.html#39">5.2.8 Xcp_Print</a></li>
<li><a href="TechnicalReference_XCPs.html#39">5.2.9 Xcp_Disconnect</a></li>
<li><a href="TechnicalReference_XCPs.html#40">5.2.10 Xcp_SendCrm</a></li>
<li><a href="TechnicalReference_XCPs.html#40">5.2.11 Xcp_GetVersionInfo</a></li>
<li><a href="TechnicalReference_XCPs.html#41">5.2.12 Xcp_ModifyProtectionStatus</a></li>
<li><a href="TechnicalReference_XCPs.html#42">5.2.13 Xcp_GetSessionStatus</a></li>
<li><a href="TechnicalReference_XCPs.html#42">5.2.14 Xcp_GetXcpDataPointer</a></li>
<li><a href="TechnicalReference_XCPs.html#43">5.2.15 Xcp_SetStimMode</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#43">5.3 Services provided by the XCP Protocol Layer and called by the XCP Transport Layer</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#43">5.3.1 Xcp_TlRxIndication</a></li>
<li><a href="TechnicalReference_XCPs.html#44">5.3.2 Xcp_TlTxConfirmation</a></li>
<li><a href="TechnicalReference_XCPs.html#44">5.3.3 Xcp_SetActiveTl</a></li>
<li><a href="TechnicalReference_XCPs.html#45">5.3.4 Xcp_GetActiveTl</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#46">5.4 XCP Transport Layer Services called by the XCP Protocol Layer</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#46">5.4.1 &lt;Bus&gt;Xcp_Send</a></li>
<li><a href="TechnicalReference_XCPs.html#47">5.4.2 &lt;Bus&gt;Xcp_SendFlush</a></li>
<li><a href="TechnicalReference_XCPs.html#47">5.4.3 &lt;Bus&gt;Xcp_TlService</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#48">5.5 Application Services called by the XCP Protocol Layer</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#49">5.5.1 XcpAppl_GetTimestamp</a></li>
<li><a href="TechnicalReference_XCPs.html#49">5.5.2 XcpAppl_GetPointer</a></li>
<li><a href="TechnicalReference_XCPs.html#50">5.5.3 XcpAppl_GetIdData</a></li>
<li><a href="TechnicalReference_XCPs.html#51">5.5.4 XcpAppl_GetSeed</a></li>
<li><a href="TechnicalReference_XCPs.html#51">5.5.5 XcpAppl_Unlock</a></li>
<li><a href="TechnicalReference_XCPs.html#52">5.5.6 XcpAppl_CalibrationWrite</a></li>
<li><a href="TechnicalReference_XCPs.html#53">5.5.7 XcpAppl_MeasurementRead</a></li>
<li><a href="TechnicalReference_XCPs.html#53">5.5.8 XcpAppl_CheckReadAccess</a></li>
<li><a href="TechnicalReference_XCPs.html#54">5.5.9 XcpAppl_CheckProgramAccess</a></li>
<li><a href="TechnicalReference_XCPs.html#54">5.5.10 XcpAppl_UserService</a></li>
<li><a href="TechnicalReference_XCPs.html#55">5.5.11 XcpAppl_OpenCmdIf</a></li>
<li><a href="TechnicalReference_XCPs.html#55">5.5.12 XcpAppl_SendStall</a></li>
<li><a href="TechnicalReference_XCPs.html#56">5.5.13 XcpAppl_DisableNormalOperation</a></li>
<li><a href="TechnicalReference_XCPs.html#57">5.5.14 XcpAppl_StartBootLoader</a></li>
<li><a href="TechnicalReference_XCPs.html#57">5.5.15 XcpAppl_Reset</a></li>
<li><a href="TechnicalReference_XCPs.html#58">5.5.16 XcpAppl_ProgramStart</a></li>
<li><a href="TechnicalReference_XCPs.html#58">5.5.17 XcpAppl_FlashClear</a></li>
<li><a href="TechnicalReference_XCPs.html#59">5.5.18 XcpAppl_FlashProgram</a></li>
<li><a href="TechnicalReference_XCPs.html#59">5.5.19 XcpAppl_DaqResume</a></li>
<li><a href="TechnicalReference_XCPs.html#60">5.5.20 XcpAppl_DaqResumeStore</a></li>
<li><a href="TechnicalReference_XCPs.html#61">5.5.21 XcpAppl_DaqResumeClear</a></li>
<li><a href="TechnicalReference_XCPs.html#61">5.5.22 XcpAppl_CalResumeStore</a></li>
<li><a href="TechnicalReference_XCPs.html#62">5.5.23 XcpAppl_GetCalPage</a></li>
<li><a href="TechnicalReference_XCPs.html#62">5.5.24 XcpAppl_SetCalPage</a></li>
<li><a href="TechnicalReference_XCPs.html#63">5.5.25 XcpAppl_CopyCalPage</a></li>
<li><a href="TechnicalReference_XCPs.html#64">5.5.26 XcpAppl_SetFreezeMode</a></li>
<li><a href="TechnicalReference_XCPs.html#65">5.5.27 XcpAppl_GetFreezeMode</a></li>
<li><a href="TechnicalReference_XCPs.html#65">5.5.28 XcpAppl_CalculateChecksum</a></li>
<li><a href="TechnicalReference_XCPs.html#66">5.5.29 XcpAppl_ConStateNotification</a></li>
<li><a href="TechnicalReference_XCPs.html#66">5.5.30 XcpAppl_MemCpy</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#67">5.6 Services used by XCP</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#68">6 Configuration</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#68">6.1 Configuration Variants</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#69">7 Glossary and Abbreviations</a>
<ul>
<li><a href="TechnicalReference_XCPs.html#69">7.1 Abbreviations</a></li>
</ul>
</li>
<li><a href="TechnicalReference_XCPs.html#71">8 Contact</a></li>
</ul>
<hr/>
</body>
</html>
